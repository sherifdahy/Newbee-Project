{"Timestamp":"2025-10-28T00:22:47.9967155+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-10-28T00:22:50.7269238+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-10-28T00:22:51.2554826+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7103","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:22:51.3306817+03:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5091","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:22:51.3929291+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: db26932.public.databaseasp.net@db26932'","SourceContext":"Hangfire.BackgroundJobServer","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: db26932.public.databaseasp.net@db26932'"}]}}
{"Timestamp":"2025-10-28T00:22:51.3956393+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-10-28T00:22:51.3978735+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-10-28T00:22:51.4259243+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:22:51.4287639+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:22:51.4309502+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"F:\\NOTE-Project\\NOTE.Solutions.BE\\NOTE.Solutions\\NOTE.Solutions.API","SourceContext":"Microsoft.Hosting.Lifetime","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:22:51.9950538+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 successfully announced in 570.1068 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 successfully announced in 570.1068 ms"}]}}
{"Timestamp":"2025-10-28T00:22:52.0059136+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-10-28T00:22:52.1697253+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 all the dispatchers started"}]}}
{"Timestamp":"2025-10-28T00:23:06.6283164+03:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"principalEntityType":"Company","declaringEntityType":"ActiveCodeCompany","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.6329314+03:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"principalEntityType":"ApplicationUser","declaringEntityType":"Customer","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.6352884+03:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"principalEntityType":"Branch","declaringEntityType":"BranchEmployee","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.6380911+03:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"principalEntityType":"Branch","declaringEntityType":"Order","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.6401421+03:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"principalEntityType":"ApplicationUser","declaringEntityType":"GlobalBarcode","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.6421516+03:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"principalEntityType":"Branch","declaringEntityType":"Product","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.6442701+03:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"principalEntityType":"ApplicationUser","declaringEntityType":"ProductUnit","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.6462803+03:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"principalEntityType":"ApplicationUser","declaringEntityType":"Unit","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.6545466+03:00","Level":"Warning","MessageTemplate":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.7797343+03:00","Level":"Warning","MessageTemplate":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"property":"Quantity","entityType":"OrderLine","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.7829334+03:00","Level":"Warning","MessageTemplate":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"property":"UnitPrice","entityType":"OrderLine","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:06.7853141+03:00","Level":"Warning","MessageTemplate":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"property":"UnitPrice","entityType":"ProductUnit","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:07.3973510+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"151","parameters":"@__normalizedEmail_0='ADMIN@NOTE-SOLUTIONS.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedEmail] = @__normalizedEmail_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:07.7794462+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"174","parameters":"@__user_Id_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:07.9283852+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"120","parameters":"@__userId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN (\r\n    SELECT [a0].[Id], [a0].[Name]\r\n    FROM [AspNetRoles] AS [a0]\r\n    WHERE [a0].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t] ON [a].[RoleId] = [t].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:08.0777085+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"136","parameters":"@__normalizedName_0='ADMIN' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[IsDefault], [a].[IsDeleted], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:08.1947087+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"98","parameters":"@__role_Id_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:08.3670731+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"151","parameters":"@__userId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN (\r\n    SELECT [a0].[Id], [a0].[Name]\r\n    FROM [AspNetRoles] AS [a0]\r\n    WHERE [a0].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t] ON [a].[RoleId] = [t].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:08.5250263+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"152","parameters":"@__normalizedName_0='ADMIN' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[IsDefault], [a].[IsDeleted], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:08.8696332+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"339","parameters":"@__role_Id_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:09.1530690+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"236","parameters":"@__normalizedUserName_0='ADMIN@NOTE-SOLUTIONS.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:09.8020461+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"elapsed":"360","parameters":"@p18='1', @p0='0', @p1='91774ab4-bfc7-4227-bd19-3d9da4f300f6' (Size = 4000), @p19='e63d15f3-26bc-4b52-bf99-532ae1a6e1b6' (Size = 4000), @p2='admin@note-solutions.com' (Size = 256), @p3='True', @p4='' (Nullable = false) (Size = 4000), @p5='False', @p6='False', @p7='False', @p8=NULL (DbType = DateTimeOffset), @p9='' (Nullable = false) (Size = 4000), @p10='ADMIN@NOTE-SOLUTIONS.COM' (Size = 256), @p11='ADMIN@NOTE-SOLUTIONS.COM' (Size = 256), @p12='AQAAAAIAAYagAAAAED2CF6yxolf752W/0kYLgmUsXrq+VBsADCUC30LlPXJzYWUcd8S2qgRjSA9giE64xA==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='3F52186E-A158-4F4A-8822-ABEE912135EB' (Size = 4000), @p16='False', @p17='admin@note-solutions.com' (Size = 256), @p20='1', @p21='2025-10-27T21:23:08.9052202Z', @p22='2025-11-10T21:23:08.9051434Z', @p23=NULL (DbType = DateTime2), @p24='E5V2jd9q4T4eXfJmYNuHFQBidSRk5OBwG46iud6hAsoGuecDKgxFFJTWFdbNObYDPrxRLTvmO9m9pBfUFyTzPA==' (Nullable = false) (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IdentifierNumber] = @p4, [IsDeleted] = @p5, [IsDisabled] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [Name] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17\r\nOUTPUT 1\r\nWHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;\r\nINSERT INTO [RefreshTokens] ([ApplicationUserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p20, @p21, @p22, @p23, @p24);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac1efff3-3769-4efc-8eed-95e34202d2b0","ActionName":"NOTE.Solutions.API.Controllers.AuthController.GetToken (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000009","RequestPath":"/api/Auth/get-token","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:10.1955014+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6b9dc836a826b3aac9bf6efba29af2ad","SpanId":"b25d197521bbf390","Properties":{"RequestMethod":"POST","RequestPath":"/api/Auth/get-token","StatusCode":200,"Elapsed":4822.2821,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56P:00000009","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4822.2821"}]}}
{"Timestamp":"2025-10-28T00:23:31.2369206+03:00","Level":"Warning","MessageTemplate":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","TraceId":"8bb7ea0864b6f0b2eef94360df595873","SpanId":"5aef6aafc8e93406","Properties":{"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7162b714-30b6-4ac9-8e5d-a74144b4c3c1","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.GetAllAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000B","RequestPath":"/api/Companies","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:31.4082669+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bb7ea0864b6f0b2eef94360df595873","SpanId":"5aef6aafc8e93406","Properties":{"elapsed":"163","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[Name], [c].[RIN], [t].[CompanyId], [t].[ActiveCodeId], [t].[Id], [t].[Code], [t0].[Id], [t0].[ApplicationUserId], [t0].[CompanyId], [t0].[IsDeleted], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[IdentifierNumber], [t0].[IsDeleted0], [t0].[IsDisabled], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[Name], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[ApplicationUserId0], [t0].[Id1], [t0].[CreatedOn], [t0].[ExpiresOn], [t0].[RevokedOn], [t0].[Token], [t3].[Id], [t3].[BuildingNumber], [t3].[CityId], [t3].[Code], [t3].[CompanyId], [t3].[IsDeleted], [t3].[Street], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[CreatedAt], [t3].[CreatedById], [t3].[UpdatedAt], [t3].[UpdatedById], [t3].[Id3], [t3].[ApplicationUserId], [t3].[CreatedAt0], [t3].[CreatedById0], [t3].[IsDeleted0], [t3].[UpdatedAt0], [t3].[UpdatedById0], [t3].[Id00], [t3].[AccessFailedCount], [t3].[ConcurrencyStamp], [t3].[Email], [t3].[EmailConfirmed], [t3].[IdentifierNumber], [t3].[IsDeleted00], [t3].[IsDisabled], [t3].[LockoutEnabled], [t3].[LockoutEnd], [t3].[Name], [t3].[NormalizedEmail], [t3].[NormalizedUserName], [t3].[PasswordHash], [t3].[PhoneNumber], [t3].[PhoneNumberConfirmed], [t3].[SecurityStamp], [t3].[TwoFactorEnabled], [t3].[UserName], [t3].[ApplicationUserId0], [t3].[Id10], [t3].[CreatedOn], [t3].[ExpiresOn], [t3].[RevokedOn], [t3].[Token], [t3].[Id4], [t3].[BranchId0], [t3].[ClientId], [t3].[ClientSecret], [t3].[CreatedAt1], [t3].[CreatedById1], [t3].[IsDeleted1], [t3].[POSSerial], [t3].[UpdatedAt1], [t3].[UpdatedById1], [t3].[Code0], [t3].[GovernorateId], [t3].[Name0], [t3].[Code1], [t3].[CountryId], [t3].[Name1], [t3].[Code2], [t3].[Name2]\r\nFROM [Companies] AS [c]\r\nLEFT JOIN (\r\n    SELECT [a].[CompanyId], [a].[ActiveCodeId], [a0].[Id], [a0].[Code]\r\n    FROM [ActiveCodeCompany] AS [a]\r\n    INNER JOIN [ActiveCodes] AS [a0] ON [a].[ActiveCodeId] = [a0].[Id]\r\n) AS [t] ON [c].[Id] = [t].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t1].[Id] AS [Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Email], [t1].[EmailConfirmed], [t1].[IdentifierNumber], [t1].[IsDeleted] AS [IsDeleted0], [t1].[IsDisabled], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[Name], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [r].[ApplicationUserId] AS [ApplicationUserId0], [r].[Id] AS [Id1], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a1].[Id], [a1].[AccessFailedCount], [a1].[ConcurrencyStamp], [a1].[Email], [a1].[EmailConfirmed], [a1].[IdentifierNumber], [a1].[IsDeleted], [a1].[IsDisabled], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[Name], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UserName]\r\n        FROM [AspNetUsers] AS [a1]\r\n        WHERE [a1].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t1] ON [m].[ApplicationUserId] = [t1].[Id]\r\n    LEFT JOIN [RefreshTokens] AS [r] ON [t1].[Id] = [r].[ApplicationUserId]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t0] ON [c].[Id] = [t0].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [b].[Id], [b].[BuildingNumber], [b].[CityId], [b].[Code], [b].[CompanyId], [b].[IsDeleted], [b].[Street], [c0].[Id] AS [Id0], [g].[Id] AS [Id1], [c1].[Id] AS [Id2], [t2].[BranchId], [t2].[EmployeeId], [t2].[CreatedAt], [t2].[CreatedById], [t2].[UpdatedAt], [t2].[UpdatedById], [t2].[Id] AS [Id3], [t2].[ApplicationUserId], [t2].[CreatedAt0], [t2].[CreatedById0], [t2].[IsDeleted] AS [IsDeleted0], [t2].[UpdatedAt0], [t2].[UpdatedById0], [t2].[Id0] AS [Id00], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[Email], [t2].[EmailConfirmed], [t2].[IdentifierNumber], [t2].[IsDeleted0] AS [IsDeleted00], [t2].[IsDisabled], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[Name], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [t2].[ApplicationUserId0], [t2].[Id1] AS [Id10], [t2].[CreatedOn], [t2].[ExpiresOn], [t2].[RevokedOn], [t2].[Token], [t4].[Id] AS [Id4], [t4].[BranchId] AS [BranchId0], [t4].[ClientId], [t4].[ClientSecret], [t4].[CreatedAt] AS [CreatedAt1], [t4].[CreatedById] AS [CreatedById1], [t4].[IsDeleted] AS [IsDeleted1], [t4].[POSSerial], [t4].[UpdatedAt] AS [UpdatedAt1], [t4].[UpdatedById] AS [UpdatedById1], [c0].[Code] AS [Code0], [c0].[GovernorateId], [c0].[Name] AS [Name0], [g].[Code] AS [Code1], [g].[CountryId], [g].[Name] AS [Name1], [c1].[Code] AS [Code2], [c1].[Name] AS [Name2]\r\n    FROM [Branches] AS [b]\r\n    INNER JOIN [Cities] AS [c0] ON [b].[CityId] = [c0].[Id]\r\n    INNER JOIN [Governorates] AS [g] ON [c0].[GovernorateId] = [g].[Id]\r\n    INNER JOIN [Countries] AS [c1] ON [g].[CountryId] = [c1].[Id]\r\n    LEFT JOIN (\r\n        SELECT [b0].[BranchId], [b0].[EmployeeId], [b0].[CreatedAt], [b0].[CreatedById], [b0].[UpdatedAt], [b0].[UpdatedById], [t5].[Id], [t5].[ApplicationUserId], [t5].[CreatedAt] AS [CreatedAt0], [t5].[CreatedById] AS [CreatedById0], [t5].[IsDeleted], [t5].[UpdatedAt] AS [UpdatedAt0], [t5].[UpdatedById] AS [UpdatedById0], [t6].[Id] AS [Id0], [t6].[AccessFailedCount], [t6].[ConcurrencyStamp], [t6].[Email], [t6].[EmailConfirmed], [t6].[IdentifierNumber], [t6].[IsDeleted] AS [IsDeleted0], [t6].[IsDisabled], [t6].[LockoutEnabled], [t6].[LockoutEnd], [t6].[Name], [t6].[NormalizedEmail], [t6].[NormalizedUserName], [t6].[PasswordHash], [t6].[PhoneNumber], [t6].[PhoneNumberConfirmed], [t6].[SecurityStamp], [t6].[TwoFactorEnabled], [t6].[UserName], [r0].[ApplicationUserId] AS [ApplicationUserId0], [r0].[Id] AS [Id1], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\n        FROM [BranchEmployee] AS [b0]\r\n        INNER JOIN (\r\n            SELECT [e].[Id], [e].[ApplicationUserId], [e].[CreatedAt], [e].[CreatedById], [e].[IsDeleted], [e].[UpdatedAt], [e].[UpdatedById]\r\n            FROM [Employees] AS [e]\r\n            WHERE [e].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t5] ON [b0].[EmployeeId] = [t5].[Id]\r\n        INNER JOIN (\r\n            SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[ConcurrencyStamp], [a2].[Email], [a2].[EmailConfirmed], [a2].[IdentifierNumber], [a2].[IsDeleted], [a2].[IsDisabled], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[Name], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName]\r\n            FROM [AspNetUsers] AS [a2]\r\n            WHERE [a2].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t6] ON [t5].[ApplicationUserId] = [t6].[Id]\r\n        LEFT JOIN [RefreshTokens] AS [r0] ON [t6].[Id] = [r0].[ApplicationUserId]\r\n    ) AS [t2] ON [b].[Id] = [t2].[BranchId]\r\n    LEFT JOIN (\r\n        SELECT [p].[Id], [p].[BranchId], [p].[ClientId], [p].[ClientSecret], [p].[CreatedAt], [p].[CreatedById], [p].[IsDeleted], [p].[POSSerial], [p].[UpdatedAt], [p].[UpdatedById]\r\n        FROM [POSs] AS [p]\r\n        WHERE [p].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t4] ON [b].[Id] = [t4].[BranchId]\r\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t3] ON [c].[Id] = [t3].[CompanyId]\r\nWHERE [c].[IsDeleted] = CAST(0 AS bit)\r\nORDER BY [c].[Id], [t].[CompanyId], [t].[ActiveCodeId], [t].[Id], [t0].[Id], [t0].[Id0], [t0].[ApplicationUserId0], [t0].[Id1], [t3].[Id], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[Id3], [t3].[Id00], [t3].[ApplicationUserId0], [t3].[Id10]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7162b714-30b6-4ac9-8e5d-a74144b4c3c1","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.GetAllAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000B","RequestPath":"/api/Companies","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:23:31.5429047+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8bb7ea0864b6f0b2eef94360df595873","SpanId":"5aef6aafc8e93406","Properties":{"RequestMethod":"GET","RequestPath":"/api/Companies","StatusCode":200,"Elapsed":5507.4636,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56P:0000000B","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5507.4636"}]}}
{"Timestamp":"2025-10-28T00:24:22.4426233+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6d0509beed9fe110c22658cf1e479840","SpanId":"5a13e7dc5585e64c","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Companies/2","StatusCode":400,"Elapsed":84.1427,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56P:0000000D","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"84.1427"}]}}
{"Timestamp":"2025-10-28T00:24:31.5117480+03:00","Level":"Warning","MessageTemplate":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:32.0551087+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"536","parameters":"@__id_0='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[IsDeleted], [t].[Name], [t].[RIN], [t0].[CompanyId], [t0].[ActiveCodeId], [t0].[Id], [t0].[Code], [t1].[Id], [t1].[ApplicationUserId], [t1].[CompanyId], [t1].[IsDeleted], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Email], [t1].[EmailConfirmed], [t1].[IdentifierNumber], [t1].[IsDeleted0], [t1].[IsDisabled], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[Name], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [t1].[ApplicationUserId0], [t1].[Id1], [t1].[CreatedOn], [t1].[ExpiresOn], [t1].[RevokedOn], [t1].[Token], [t3].[Id], [t3].[BuildingNumber], [t3].[CityId], [t3].[Code], [t3].[CompanyId], [t3].[IsDeleted], [t3].[Street], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[CreatedAt], [t3].[CreatedById], [t3].[UpdatedAt], [t3].[UpdatedById], [t3].[Id3], [t3].[ApplicationUserId], [t3].[CreatedAt0], [t3].[CreatedById0], [t3].[IsDeleted0], [t3].[UpdatedAt0], [t3].[UpdatedById0], [t3].[Id00], [t3].[AccessFailedCount], [t3].[ConcurrencyStamp], [t3].[Email], [t3].[EmailConfirmed], [t3].[IdentifierNumber], [t3].[IsDeleted00], [t3].[IsDisabled], [t3].[LockoutEnabled], [t3].[LockoutEnd], [t3].[Name], [t3].[NormalizedEmail], [t3].[NormalizedUserName], [t3].[PasswordHash], [t3].[PhoneNumber], [t3].[PhoneNumberConfirmed], [t3].[SecurityStamp], [t3].[TwoFactorEnabled], [t3].[UserName], [t3].[ApplicationUserId0], [t3].[Id10], [t3].[CreatedOn], [t3].[ExpiresOn], [t3].[RevokedOn], [t3].[Token], [t3].[Id4], [t3].[BranchId0], [t3].[ClientId], [t3].[ClientSecret], [t3].[CreatedAt1], [t3].[CreatedById1], [t3].[IsDeleted1], [t3].[POSSerial], [t3].[UpdatedAt1], [t3].[UpdatedById1], [t3].[Code0], [t3].[GovernorateId], [t3].[Name0], [t3].[Code1], [t3].[CountryId], [t3].[Name1], [t3].[Code2], [t3].[Name2]\r\nFROM (\r\n    SELECT TOP(2) [c].[Id], [c].[IsDeleted], [c].[Name], [c].[RIN]\r\n    FROM [Companies] AS [c]\r\n    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0\r\n) AS [t]\r\nLEFT JOIN (\r\n    SELECT [a].[CompanyId], [a].[ActiveCodeId], [a0].[Id], [a0].[Code]\r\n    FROM [ActiveCodeCompany] AS [a]\r\n    INNER JOIN [ActiveCodes] AS [a0] ON [a].[ActiveCodeId] = [a0].[Id]\r\n) AS [t0] ON [t].[Id] = [t0].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t2].[Id] AS [Id0], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[Email], [t2].[EmailConfirmed], [t2].[IdentifierNumber], [t2].[IsDeleted] AS [IsDeleted0], [t2].[IsDisabled], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[Name], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [r].[ApplicationUserId] AS [ApplicationUserId0], [r].[Id] AS [Id1], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a1].[Id], [a1].[AccessFailedCount], [a1].[ConcurrencyStamp], [a1].[Email], [a1].[EmailConfirmed], [a1].[IdentifierNumber], [a1].[IsDeleted], [a1].[IsDisabled], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[Name], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UserName]\r\n        FROM [AspNetUsers] AS [a1]\r\n        WHERE [a1].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t2] ON [m].[ApplicationUserId] = [t2].[Id]\r\n    LEFT JOIN [RefreshTokens] AS [r] ON [t2].[Id] = [r].[ApplicationUserId]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t1] ON [t].[Id] = [t1].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [b].[Id], [b].[BuildingNumber], [b].[CityId], [b].[Code], [b].[CompanyId], [b].[IsDeleted], [b].[Street], [c0].[Id] AS [Id0], [g].[Id] AS [Id1], [c1].[Id] AS [Id2], [t4].[BranchId], [t4].[EmployeeId], [t4].[CreatedAt], [t4].[CreatedById], [t4].[UpdatedAt], [t4].[UpdatedById], [t4].[Id] AS [Id3], [t4].[ApplicationUserId], [t4].[CreatedAt0], [t4].[CreatedById0], [t4].[IsDeleted] AS [IsDeleted0], [t4].[UpdatedAt0], [t4].[UpdatedById0], [t4].[Id0] AS [Id00], [t4].[AccessFailedCount], [t4].[ConcurrencyStamp], [t4].[Email], [t4].[EmailConfirmed], [t4].[IdentifierNumber], [t4].[IsDeleted0] AS [IsDeleted00], [t4].[IsDisabled], [t4].[LockoutEnabled], [t4].[LockoutEnd], [t4].[Name], [t4].[NormalizedEmail], [t4].[NormalizedUserName], [t4].[PasswordHash], [t4].[PhoneNumber], [t4].[PhoneNumberConfirmed], [t4].[SecurityStamp], [t4].[TwoFactorEnabled], [t4].[UserName], [t4].[ApplicationUserId0], [t4].[Id1] AS [Id10], [t4].[CreatedOn], [t4].[ExpiresOn], [t4].[RevokedOn], [t4].[Token], [t5].[Id] AS [Id4], [t5].[BranchId] AS [BranchId0], [t5].[ClientId], [t5].[ClientSecret], [t5].[CreatedAt] AS [CreatedAt1], [t5].[CreatedById] AS [CreatedById1], [t5].[IsDeleted] AS [IsDeleted1], [t5].[POSSerial], [t5].[UpdatedAt] AS [UpdatedAt1], [t5].[UpdatedById] AS [UpdatedById1], [c0].[Code] AS [Code0], [c0].[GovernorateId], [c0].[Name] AS [Name0], [g].[Code] AS [Code1], [g].[CountryId], [g].[Name] AS [Name1], [c1].[Code] AS [Code2], [c1].[Name] AS [Name2]\r\n    FROM [Branches] AS [b]\r\n    INNER JOIN [Cities] AS [c0] ON [b].[CityId] = [c0].[Id]\r\n    INNER JOIN [Governorates] AS [g] ON [c0].[GovernorateId] = [g].[Id]\r\n    INNER JOIN [Countries] AS [c1] ON [g].[CountryId] = [c1].[Id]\r\n    LEFT JOIN (\r\n        SELECT [b0].[BranchId], [b0].[EmployeeId], [b0].[CreatedAt], [b0].[CreatedById], [b0].[UpdatedAt], [b0].[UpdatedById], [t6].[Id], [t6].[ApplicationUserId], [t6].[CreatedAt] AS [CreatedAt0], [t6].[CreatedById] AS [CreatedById0], [t6].[IsDeleted], [t6].[UpdatedAt] AS [UpdatedAt0], [t6].[UpdatedById] AS [UpdatedById0], [t7].[Id] AS [Id0], [t7].[AccessFailedCount], [t7].[ConcurrencyStamp], [t7].[Email], [t7].[EmailConfirmed], [t7].[IdentifierNumber], [t7].[IsDeleted] AS [IsDeleted0], [t7].[IsDisabled], [t7].[LockoutEnabled], [t7].[LockoutEnd], [t7].[Name], [t7].[NormalizedEmail], [t7].[NormalizedUserName], [t7].[PasswordHash], [t7].[PhoneNumber], [t7].[PhoneNumberConfirmed], [t7].[SecurityStamp], [t7].[TwoFactorEnabled], [t7].[UserName], [r0].[ApplicationUserId] AS [ApplicationUserId0], [r0].[Id] AS [Id1], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\n        FROM [BranchEmployee] AS [b0]\r\n        INNER JOIN (\r\n            SELECT [e].[Id], [e].[ApplicationUserId], [e].[CreatedAt], [e].[CreatedById], [e].[IsDeleted], [e].[UpdatedAt], [e].[UpdatedById]\r\n            FROM [Employees] AS [e]\r\n            WHERE [e].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t6] ON [b0].[EmployeeId] = [t6].[Id]\r\n        INNER JOIN (\r\n            SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[ConcurrencyStamp], [a2].[Email], [a2].[EmailConfirmed], [a2].[IdentifierNumber], [a2].[IsDeleted], [a2].[IsDisabled], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[Name], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName]\r\n            FROM [AspNetUsers] AS [a2]\r\n            WHERE [a2].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t7] ON [t6].[ApplicationUserId] = [t7].[Id]\r\n        LEFT JOIN [RefreshTokens] AS [r0] ON [t7].[Id] = [r0].[ApplicationUserId]\r\n    ) AS [t4] ON [b].[Id] = [t4].[BranchId]\r\n    LEFT JOIN (\r\n        SELECT [p].[Id], [p].[BranchId], [p].[ClientId], [p].[ClientSecret], [p].[CreatedAt], [p].[CreatedById], [p].[IsDeleted], [p].[POSSerial], [p].[UpdatedAt], [p].[UpdatedById]\r\n        FROM [POSs] AS [p]\r\n        WHERE [p].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t5] ON [b].[Id] = [t5].[BranchId]\r\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t3] ON [t].[Id] = [t3].[CompanyId]\r\nORDER BY [t].[Id], [t0].[CompanyId], [t0].[ActiveCodeId], [t0].[Id], [t1].[Id], [t1].[Id0], [t1].[ApplicationUserId0], [t1].[Id1], [t3].[Id], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[Id3], [t3].[Id00], [t3].[ApplicationUserId0], [t3].[Id10]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:32.1583268+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"83","parameters":"@__request_RIN_0='951654328' (Size = 9), @__id_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Companies] AS [c]\r\n        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[RIN] = @__request_RIN_0 AND [c].[Id] <> @__id_1) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:32.3084632+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"133","parameters":"@__activeCodeId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [ActiveCodes] AS [a]\r\n        WHERE [a].[Id] = @__activeCodeId_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:32.4231669+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"107","parameters":"@__branch_CityId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Cities] AS [c]\r\n        WHERE [c].[Id] = @__branch_CityId_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:32.5551026+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"116","parameters":"@__managerDto_Id_0='0'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t0].[Id], [t0].[ApplicationUserId], [t0].[CompanyId], [t0].[IsDeleted], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[IdentifierNumber], [t0].[IsDeleted0], [t0].[IsDisabled], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[Name], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t].[Id] AS [Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted] AS [IsDeleted0], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t] ON [m].[ApplicationUserId] = [t].[Id]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[Id] = @__managerDto_Id_0\r\n) AS [t0]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t0].[Id0] = [r].[ApplicationUserId]\r\nORDER BY [t0].[Id], [t0].[Id0], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:32.8182306+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"109","parameters":"@__normalizedUserName_0='SHRIFM2017@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:32.8710568+03:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:33.0202135+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"147","parameters":"@p0='0', @p1='2ae9a0c4-2819-40a0-ae6e-5a68bf72325c' (Size = 4000), @p2='shrifm2017@gmail.com' (Size = 256), @p3='False', @p4='string' (Nullable = false) (Size = 4000), @p5='False', @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='' (Nullable = false) (Size = 4000), @p10='SHRIFM2017@GMAIL.COM' (Size = 256), @p11='SHRIFM2017@GMAIL.COM' (Size = 256), @p12='AQAAAAIAAYagAAAAEMcFlfdoOuHlehNREcpNrjHLnsEn0y1b6M9OA9zWO7fYUWMwppr2xVWHxKbFJqlIzA==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='TYEGE7MQALFQWCHWJVVYWQT7KG6E4IB2' (Size = 4000), @p16='False', @p17='shrifm2017@gmail.com' (Size = 256), @p18='' (Nullable = false) (Size = 4000), @p19='1', @p20='string' (Nullable = false) (Size = 4000), @p21='2', @p22='False', @p23='' (Nullable = false) (Size = 4000), @p26='2', @p24='string' (Nullable = false) (Size = 200), @p25='951654328' (Nullable = false) (Size = 9)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IdentifierNumber], [IsDeleted], [IsDisabled], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);\r\nINSERT INTO [Branches] ([BuildingNumber], [CityId], [Code], [CompanyId], [IsDeleted], [Street])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p18, @p19, @p20, @p21, @p22, @p23);\r\nUPDATE [Companies] SET [Name] = @p24, [RIN] = @p25\r\nOUTPUT 1\r\nWHERE [Id] = @p26;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:33.1519752+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"112","parameters":"@__managerDtoId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t0].[Id], [t0].[ApplicationUserId], [t0].[CompanyId], [t0].[IsDeleted], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[IdentifierNumber], [t0].[IsDeleted0], [t0].[IsDisabled], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[Name], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t].[Id] AS [Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted] AS [IsDeleted0], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t] ON [m].[ApplicationUserId] = [t].[Id]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[Id] = @__managerDtoId_0\r\n) AS [t0]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t0].[Id0] = [r].[ApplicationUserId]\r\nORDER BY [t0].[Id], [t0].[Id0], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:33.3103125+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"132","parameters":"@__normalizedEmail_0='SHRIFM2017@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedEmail] = @__normalizedEmail_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:33.4743266+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"95","parameters":"@__normalizedUserName_0='SHRIFM2017@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:33.4857216+03:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:33.6152836+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"126","parameters":"@p1='5', @p2='62311ca9-da66-4025-af79-d607da65bfd4' (Size = 4000), @p0='True', @p21='6', @p3='0', @p4='047ea5fe-7cbc-4f0b-b93d-8bc1e7f1e2ba' (Size = 4000), @p22='2ae9a0c4-2819-40a0-ae6e-5a68bf72325c' (Size = 4000), @p5='shrifm2017@gmail.com' (Size = 256), @p6='False', @p7='string' (Nullable = false) (Size = 4000), @p8='False', @p9='False', @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='' (Nullable = false) (Size = 4000), @p13='SHRIFM2017@GMAIL.COM' (Size = 256), @p14='SHRIFM2017@GMAIL.COM' (Size = 256), @p15='AQAAAAIAAYagAAAAEPnasDuyHdPZvRLG6Q8MjiCUT8AJPELK+zdwmKxBepRrxqBEElehfmGHrb+joRg1Eg==' (Size = 4000), @p16='01014133874' (Size = 4000), @p17='False', @p18='TYEGE7MQALFQWCHWJVVYWQT7KG6E4IB2' (Size = 4000), @p19='False', @p20='shrifm2017@gmail.com' (Size = 256), @p24='1', @p23='True', @p25='6', @p26='2', @p27='False'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [IsDeleted] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1 AND [ConcurrencyStamp] = @p2;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [IdentifierNumber] = @p7, [IsDeleted] = @p8, [IsDisabled] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [Name] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20\r\nOUTPUT 1\r\nWHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;\r\nUPDATE [Managers] SET [IsDeleted] = @p23\r\nOUTPUT 1\r\nWHERE [Id] = @p24;\r\nINSERT INTO [Managers] ([ApplicationUserId], [CompanyId], [IsDeleted])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p25, @p26, @p27);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:33.6476424+03:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:34.7249542+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"elapsed":"1,073","parameters":"@p0='1', @p1='2', @p5='2', @p2='False', @p3='string' (Nullable = false) (Size = 200), @p4='951654328' (Nullable = false) (Size = 9)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [ActiveCodeCompany] ([ActiveCodeId], [CompanyId])\r\nVALUES (@p0, @p1);\r\nUPDATE [Companies] SET [IsDeleted] = @p2, [Name] = @p3, [RIN] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:0000000F","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:43.7809875+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"805e7da547f85504bb9566043110f3aa","SpanId":"e9356dc47a44bc63","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Companies/2","StatusCode":204,"Elapsed":12344.705,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56P:0000000F","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12344.7050"}]}}
{"Timestamp":"2025-10-28T00:24:51.7038208+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ecacf74cb19a01c9f6c89e8c90be4ce6","SpanId":"97a3dc7da3ca1905","Properties":{"elapsed":"624","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[Name], [c].[RIN], [t].[CompanyId], [t].[ActiveCodeId], [t].[Id], [t].[Code], [t0].[Id], [t0].[ApplicationUserId], [t0].[CompanyId], [t0].[IsDeleted], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[IdentifierNumber], [t0].[IsDeleted0], [t0].[IsDisabled], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[Name], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[ApplicationUserId0], [t0].[Id1], [t0].[CreatedOn], [t0].[ExpiresOn], [t0].[RevokedOn], [t0].[Token], [t3].[Id], [t3].[BuildingNumber], [t3].[CityId], [t3].[Code], [t3].[CompanyId], [t3].[IsDeleted], [t3].[Street], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[CreatedAt], [t3].[CreatedById], [t3].[UpdatedAt], [t3].[UpdatedById], [t3].[Id3], [t3].[ApplicationUserId], [t3].[CreatedAt0], [t3].[CreatedById0], [t3].[IsDeleted0], [t3].[UpdatedAt0], [t3].[UpdatedById0], [t3].[Id00], [t3].[AccessFailedCount], [t3].[ConcurrencyStamp], [t3].[Email], [t3].[EmailConfirmed], [t3].[IdentifierNumber], [t3].[IsDeleted00], [t3].[IsDisabled], [t3].[LockoutEnabled], [t3].[LockoutEnd], [t3].[Name], [t3].[NormalizedEmail], [t3].[NormalizedUserName], [t3].[PasswordHash], [t3].[PhoneNumber], [t3].[PhoneNumberConfirmed], [t3].[SecurityStamp], [t3].[TwoFactorEnabled], [t3].[UserName], [t3].[ApplicationUserId0], [t3].[Id10], [t3].[CreatedOn], [t3].[ExpiresOn], [t3].[RevokedOn], [t3].[Token], [t3].[Id4], [t3].[BranchId0], [t3].[ClientId], [t3].[ClientSecret], [t3].[CreatedAt1], [t3].[CreatedById1], [t3].[IsDeleted1], [t3].[POSSerial], [t3].[UpdatedAt1], [t3].[UpdatedById1], [t3].[Code0], [t3].[GovernorateId], [t3].[Name0], [t3].[Code1], [t3].[CountryId], [t3].[Name1], [t3].[Code2], [t3].[Name2]\r\nFROM [Companies] AS [c]\r\nLEFT JOIN (\r\n    SELECT [a].[CompanyId], [a].[ActiveCodeId], [a0].[Id], [a0].[Code]\r\n    FROM [ActiveCodeCompany] AS [a]\r\n    INNER JOIN [ActiveCodes] AS [a0] ON [a].[ActiveCodeId] = [a0].[Id]\r\n) AS [t] ON [c].[Id] = [t].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t1].[Id] AS [Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Email], [t1].[EmailConfirmed], [t1].[IdentifierNumber], [t1].[IsDeleted] AS [IsDeleted0], [t1].[IsDisabled], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[Name], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [r].[ApplicationUserId] AS [ApplicationUserId0], [r].[Id] AS [Id1], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a1].[Id], [a1].[AccessFailedCount], [a1].[ConcurrencyStamp], [a1].[Email], [a1].[EmailConfirmed], [a1].[IdentifierNumber], [a1].[IsDeleted], [a1].[IsDisabled], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[Name], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UserName]\r\n        FROM [AspNetUsers] AS [a1]\r\n        WHERE [a1].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t1] ON [m].[ApplicationUserId] = [t1].[Id]\r\n    LEFT JOIN [RefreshTokens] AS [r] ON [t1].[Id] = [r].[ApplicationUserId]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t0] ON [c].[Id] = [t0].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [b].[Id], [b].[BuildingNumber], [b].[CityId], [b].[Code], [b].[CompanyId], [b].[IsDeleted], [b].[Street], [c0].[Id] AS [Id0], [g].[Id] AS [Id1], [c1].[Id] AS [Id2], [t2].[BranchId], [t2].[EmployeeId], [t2].[CreatedAt], [t2].[CreatedById], [t2].[UpdatedAt], [t2].[UpdatedById], [t2].[Id] AS [Id3], [t2].[ApplicationUserId], [t2].[CreatedAt0], [t2].[CreatedById0], [t2].[IsDeleted] AS [IsDeleted0], [t2].[UpdatedAt0], [t2].[UpdatedById0], [t2].[Id0] AS [Id00], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[Email], [t2].[EmailConfirmed], [t2].[IdentifierNumber], [t2].[IsDeleted0] AS [IsDeleted00], [t2].[IsDisabled], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[Name], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [t2].[ApplicationUserId0], [t2].[Id1] AS [Id10], [t2].[CreatedOn], [t2].[ExpiresOn], [t2].[RevokedOn], [t2].[Token], [t4].[Id] AS [Id4], [t4].[BranchId] AS [BranchId0], [t4].[ClientId], [t4].[ClientSecret], [t4].[CreatedAt] AS [CreatedAt1], [t4].[CreatedById] AS [CreatedById1], [t4].[IsDeleted] AS [IsDeleted1], [t4].[POSSerial], [t4].[UpdatedAt] AS [UpdatedAt1], [t4].[UpdatedById] AS [UpdatedById1], [c0].[Code] AS [Code0], [c0].[GovernorateId], [c0].[Name] AS [Name0], [g].[Code] AS [Code1], [g].[CountryId], [g].[Name] AS [Name1], [c1].[Code] AS [Code2], [c1].[Name] AS [Name2]\r\n    FROM [Branches] AS [b]\r\n    INNER JOIN [Cities] AS [c0] ON [b].[CityId] = [c0].[Id]\r\n    INNER JOIN [Governorates] AS [g] ON [c0].[GovernorateId] = [g].[Id]\r\n    INNER JOIN [Countries] AS [c1] ON [g].[CountryId] = [c1].[Id]\r\n    LEFT JOIN (\r\n        SELECT [b0].[BranchId], [b0].[EmployeeId], [b0].[CreatedAt], [b0].[CreatedById], [b0].[UpdatedAt], [b0].[UpdatedById], [t5].[Id], [t5].[ApplicationUserId], [t5].[CreatedAt] AS [CreatedAt0], [t5].[CreatedById] AS [CreatedById0], [t5].[IsDeleted], [t5].[UpdatedAt] AS [UpdatedAt0], [t5].[UpdatedById] AS [UpdatedById0], [t6].[Id] AS [Id0], [t6].[AccessFailedCount], [t6].[ConcurrencyStamp], [t6].[Email], [t6].[EmailConfirmed], [t6].[IdentifierNumber], [t6].[IsDeleted] AS [IsDeleted0], [t6].[IsDisabled], [t6].[LockoutEnabled], [t6].[LockoutEnd], [t6].[Name], [t6].[NormalizedEmail], [t6].[NormalizedUserName], [t6].[PasswordHash], [t6].[PhoneNumber], [t6].[PhoneNumberConfirmed], [t6].[SecurityStamp], [t6].[TwoFactorEnabled], [t6].[UserName], [r0].[ApplicationUserId] AS [ApplicationUserId0], [r0].[Id] AS [Id1], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\n        FROM [BranchEmployee] AS [b0]\r\n        INNER JOIN (\r\n            SELECT [e].[Id], [e].[ApplicationUserId], [e].[CreatedAt], [e].[CreatedById], [e].[IsDeleted], [e].[UpdatedAt], [e].[UpdatedById]\r\n            FROM [Employees] AS [e]\r\n            WHERE [e].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t5] ON [b0].[EmployeeId] = [t5].[Id]\r\n        INNER JOIN (\r\n            SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[ConcurrencyStamp], [a2].[Email], [a2].[EmailConfirmed], [a2].[IdentifierNumber], [a2].[IsDeleted], [a2].[IsDisabled], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[Name], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName]\r\n            FROM [AspNetUsers] AS [a2]\r\n            WHERE [a2].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t6] ON [t5].[ApplicationUserId] = [t6].[Id]\r\n        LEFT JOIN [RefreshTokens] AS [r0] ON [t6].[Id] = [r0].[ApplicationUserId]\r\n    ) AS [t2] ON [b].[Id] = [t2].[BranchId]\r\n    LEFT JOIN (\r\n        SELECT [p].[Id], [p].[BranchId], [p].[ClientId], [p].[ClientSecret], [p].[CreatedAt], [p].[CreatedById], [p].[IsDeleted], [p].[POSSerial], [p].[UpdatedAt], [p].[UpdatedById]\r\n        FROM [POSs] AS [p]\r\n        WHERE [p].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t4] ON [b].[Id] = [t4].[BranchId]\r\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t3] ON [c].[Id] = [t3].[CompanyId]\r\nWHERE [c].[IsDeleted] = CAST(0 AS bit)\r\nORDER BY [c].[Id], [t].[CompanyId], [t].[ActiveCodeId], [t].[Id], [t0].[Id], [t0].[Id0], [t0].[ApplicationUserId0], [t0].[Id1], [t3].[Id], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[Id3], [t3].[Id00], [t3].[ApplicationUserId0], [t3].[Id10]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7162b714-30b6-4ac9-8e5d-a74144b4c3c1","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.GetAllAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000011","RequestPath":"/api/Companies","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:24:51.7360788+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ecacf74cb19a01c9f6c89e8c90be4ce6","SpanId":"97a3dc7da3ca1905","Properties":{"RequestMethod":"GET","RequestPath":"/api/Companies","StatusCode":200,"Elapsed":658.1685,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56P:00000011","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"658.1685"}]}}
{"Timestamp":"2025-10-28T00:26:38.6105895+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Properties":{"elapsed":"3,813","parameters":"@__id_0='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[IsDeleted], [t].[Name], [t].[RIN], [t0].[CompanyId], [t0].[ActiveCodeId], [t0].[Id], [t0].[Code], [t1].[Id], [t1].[ApplicationUserId], [t1].[CompanyId], [t1].[IsDeleted], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Email], [t1].[EmailConfirmed], [t1].[IdentifierNumber], [t1].[IsDeleted0], [t1].[IsDisabled], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[Name], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [t1].[ApplicationUserId0], [t1].[Id1], [t1].[CreatedOn], [t1].[ExpiresOn], [t1].[RevokedOn], [t1].[Token], [t3].[Id], [t3].[BuildingNumber], [t3].[CityId], [t3].[Code], [t3].[CompanyId], [t3].[IsDeleted], [t3].[Street], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[CreatedAt], [t3].[CreatedById], [t3].[UpdatedAt], [t3].[UpdatedById], [t3].[Id3], [t3].[ApplicationUserId], [t3].[CreatedAt0], [t3].[CreatedById0], [t3].[IsDeleted0], [t3].[UpdatedAt0], [t3].[UpdatedById0], [t3].[Id00], [t3].[AccessFailedCount], [t3].[ConcurrencyStamp], [t3].[Email], [t3].[EmailConfirmed], [t3].[IdentifierNumber], [t3].[IsDeleted00], [t3].[IsDisabled], [t3].[LockoutEnabled], [t3].[LockoutEnd], [t3].[Name], [t3].[NormalizedEmail], [t3].[NormalizedUserName], [t3].[PasswordHash], [t3].[PhoneNumber], [t3].[PhoneNumberConfirmed], [t3].[SecurityStamp], [t3].[TwoFactorEnabled], [t3].[UserName], [t3].[ApplicationUserId0], [t3].[Id10], [t3].[CreatedOn], [t3].[ExpiresOn], [t3].[RevokedOn], [t3].[Token], [t3].[Id4], [t3].[BranchId0], [t3].[ClientId], [t3].[ClientSecret], [t3].[CreatedAt1], [t3].[CreatedById1], [t3].[IsDeleted1], [t3].[POSSerial], [t3].[UpdatedAt1], [t3].[UpdatedById1], [t3].[Code0], [t3].[GovernorateId], [t3].[Name0], [t3].[Code1], [t3].[CountryId], [t3].[Name1], [t3].[Code2], [t3].[Name2]\r\nFROM (\r\n    SELECT TOP(2) [c].[Id], [c].[IsDeleted], [c].[Name], [c].[RIN]\r\n    FROM [Companies] AS [c]\r\n    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0\r\n) AS [t]\r\nLEFT JOIN (\r\n    SELECT [a].[CompanyId], [a].[ActiveCodeId], [a0].[Id], [a0].[Code]\r\n    FROM [ActiveCodeCompany] AS [a]\r\n    INNER JOIN [ActiveCodes] AS [a0] ON [a].[ActiveCodeId] = [a0].[Id]\r\n) AS [t0] ON [t].[Id] = [t0].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t2].[Id] AS [Id0], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[Email], [t2].[EmailConfirmed], [t2].[IdentifierNumber], [t2].[IsDeleted] AS [IsDeleted0], [t2].[IsDisabled], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[Name], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [r].[ApplicationUserId] AS [ApplicationUserId0], [r].[Id] AS [Id1], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a1].[Id], [a1].[AccessFailedCount], [a1].[ConcurrencyStamp], [a1].[Email], [a1].[EmailConfirmed], [a1].[IdentifierNumber], [a1].[IsDeleted], [a1].[IsDisabled], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[Name], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UserName]\r\n        FROM [AspNetUsers] AS [a1]\r\n        WHERE [a1].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t2] ON [m].[ApplicationUserId] = [t2].[Id]\r\n    LEFT JOIN [RefreshTokens] AS [r] ON [t2].[Id] = [r].[ApplicationUserId]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t1] ON [t].[Id] = [t1].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [b].[Id], [b].[BuildingNumber], [b].[CityId], [b].[Code], [b].[CompanyId], [b].[IsDeleted], [b].[Street], [c0].[Id] AS [Id0], [g].[Id] AS [Id1], [c1].[Id] AS [Id2], [t4].[BranchId], [t4].[EmployeeId], [t4].[CreatedAt], [t4].[CreatedById], [t4].[UpdatedAt], [t4].[UpdatedById], [t4].[Id] AS [Id3], [t4].[ApplicationUserId], [t4].[CreatedAt0], [t4].[CreatedById0], [t4].[IsDeleted] AS [IsDeleted0], [t4].[UpdatedAt0], [t4].[UpdatedById0], [t4].[Id0] AS [Id00], [t4].[AccessFailedCount], [t4].[ConcurrencyStamp], [t4].[Email], [t4].[EmailConfirmed], [t4].[IdentifierNumber], [t4].[IsDeleted0] AS [IsDeleted00], [t4].[IsDisabled], [t4].[LockoutEnabled], [t4].[LockoutEnd], [t4].[Name], [t4].[NormalizedEmail], [t4].[NormalizedUserName], [t4].[PasswordHash], [t4].[PhoneNumber], [t4].[PhoneNumberConfirmed], [t4].[SecurityStamp], [t4].[TwoFactorEnabled], [t4].[UserName], [t4].[ApplicationUserId0], [t4].[Id1] AS [Id10], [t4].[CreatedOn], [t4].[ExpiresOn], [t4].[RevokedOn], [t4].[Token], [t5].[Id] AS [Id4], [t5].[BranchId] AS [BranchId0], [t5].[ClientId], [t5].[ClientSecret], [t5].[CreatedAt] AS [CreatedAt1], [t5].[CreatedById] AS [CreatedById1], [t5].[IsDeleted] AS [IsDeleted1], [t5].[POSSerial], [t5].[UpdatedAt] AS [UpdatedAt1], [t5].[UpdatedById] AS [UpdatedById1], [c0].[Code] AS [Code0], [c0].[GovernorateId], [c0].[Name] AS [Name0], [g].[Code] AS [Code1], [g].[CountryId], [g].[Name] AS [Name1], [c1].[Code] AS [Code2], [c1].[Name] AS [Name2]\r\n    FROM [Branches] AS [b]\r\n    INNER JOIN [Cities] AS [c0] ON [b].[CityId] = [c0].[Id]\r\n    INNER JOIN [Governorates] AS [g] ON [c0].[GovernorateId] = [g].[Id]\r\n    INNER JOIN [Countries] AS [c1] ON [g].[CountryId] = [c1].[Id]\r\n    LEFT JOIN (\r\n        SELECT [b0].[BranchId], [b0].[EmployeeId], [b0].[CreatedAt], [b0].[CreatedById], [b0].[UpdatedAt], [b0].[UpdatedById], [t6].[Id], [t6].[ApplicationUserId], [t6].[CreatedAt] AS [CreatedAt0], [t6].[CreatedById] AS [CreatedById0], [t6].[IsDeleted], [t6].[UpdatedAt] AS [UpdatedAt0], [t6].[UpdatedById] AS [UpdatedById0], [t7].[Id] AS [Id0], [t7].[AccessFailedCount], [t7].[ConcurrencyStamp], [t7].[Email], [t7].[EmailConfirmed], [t7].[IdentifierNumber], [t7].[IsDeleted] AS [IsDeleted0], [t7].[IsDisabled], [t7].[LockoutEnabled], [t7].[LockoutEnd], [t7].[Name], [t7].[NormalizedEmail], [t7].[NormalizedUserName], [t7].[PasswordHash], [t7].[PhoneNumber], [t7].[PhoneNumberConfirmed], [t7].[SecurityStamp], [t7].[TwoFactorEnabled], [t7].[UserName], [r0].[ApplicationUserId] AS [ApplicationUserId0], [r0].[Id] AS [Id1], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\n        FROM [BranchEmployee] AS [b0]\r\n        INNER JOIN (\r\n            SELECT [e].[Id], [e].[ApplicationUserId], [e].[CreatedAt], [e].[CreatedById], [e].[IsDeleted], [e].[UpdatedAt], [e].[UpdatedById]\r\n            FROM [Employees] AS [e]\r\n            WHERE [e].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t6] ON [b0].[EmployeeId] = [t6].[Id]\r\n        INNER JOIN (\r\n            SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[ConcurrencyStamp], [a2].[Email], [a2].[EmailConfirmed], [a2].[IdentifierNumber], [a2].[IsDeleted], [a2].[IsDisabled], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[Name], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName]\r\n            FROM [AspNetUsers] AS [a2]\r\n            WHERE [a2].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t7] ON [t6].[ApplicationUserId] = [t7].[Id]\r\n        LEFT JOIN [RefreshTokens] AS [r0] ON [t7].[Id] = [r0].[ApplicationUserId]\r\n    ) AS [t4] ON [b].[Id] = [t4].[BranchId]\r\n    LEFT JOIN (\r\n        SELECT [p].[Id], [p].[BranchId], [p].[ClientId], [p].[ClientSecret], [p].[CreatedAt], [p].[CreatedById], [p].[IsDeleted], [p].[POSSerial], [p].[UpdatedAt], [p].[UpdatedById]\r\n        FROM [POSs] AS [p]\r\n        WHERE [p].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t5] ON [b].[Id] = [t5].[BranchId]\r\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t3] ON [t].[Id] = [t3].[CompanyId]\r\nORDER BY [t].[Id], [t0].[CompanyId], [t0].[ActiveCodeId], [t0].[Id], [t1].[Id], [t1].[Id0], [t1].[ApplicationUserId0], [t1].[Id1], [t3].[Id], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[Id3], [t3].[Id00], [t3].[ApplicationUserId0], [t3].[Id10]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000013","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:26:38.7701899+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Properties":{"elapsed":"134","parameters":"@__request_RIN_0='951654328' (Size = 9), @__id_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Companies] AS [c]\r\n        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[RIN] = @__request_RIN_0 AND [c].[Id] <> @__id_1) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000013","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:26:38.9805352+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Properties":{"elapsed":"202","parameters":"@__activeCodeId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [ActiveCodes] AS [a]\r\n        WHERE [a].[Id] = @__activeCodeId_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000013","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:26:39.0673095+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Properties":{"elapsed":"80","parameters":"@__branch_CityId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Cities] AS [c]\r\n        WHERE [c].[Id] = @__branch_CityId_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000013","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:26:39.1826964+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Properties":{"elapsed":"105","parameters":"@__managerDto_Id_0='0'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t0].[Id], [t0].[ApplicationUserId], [t0].[CompanyId], [t0].[IsDeleted], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[IdentifierNumber], [t0].[IsDeleted0], [t0].[IsDisabled], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[Name], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t].[Id] AS [Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted] AS [IsDeleted0], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t] ON [m].[ApplicationUserId] = [t].[Id]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[Id] = @__managerDto_Id_0\r\n) AS [t0]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t0].[Id0] = [r].[ApplicationUserId]\r\nORDER BY [t0].[Id], [t0].[Id0], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000013","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:26:39.5632526+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Properties":{"elapsed":"161","parameters":"@__normalizedUserName_0='SHRIFM2017@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000013","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:26:40.0846134+03:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Exception":"System.Exception: Username 'shrifm2017@gmail.com' is already taken.\r\n   at NOTE.Solutions.BLL.Services.CompanyService.UpdateAsync(Int32 id, UpdateCompanyRequest request, CancellationToken cancellationToken) in F:\\NOTE-Project\\NOTE.Solutions.BE\\NOTE.Solutions\\NOTE.Solutions.BLL\\Services\\CompanyService.cs:line 353\r\n   at NOTE.Solutions.BLL.Services.CompanyService.UpdateAsync(Int32 id, UpdateCompanyRequest request, CancellationToken cancellationToken) in F:\\NOTE-Project\\NOTE.Solutions.BE\\NOTE.Solutions\\NOTE.Solutions.BLL\\Services\\CompanyService.cs:line 418\r\n   at NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync(Int32 companyId, UpdateCompanyRequest request) in F:\\NOTE-Project\\NOTE.Solutions.BE\\NOTE.Solutions\\NOTE.Solutions.API\\Controllers\\CompaniesController.cs:line 46\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000013","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:26:40.1045855+03:00","Level":"Error","MessageTemplate":"something went wrong: {Message}","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Exception":"System.Exception: Username 'shrifm2017@gmail.com' is already taken.\r\n   at NOTE.Solutions.BLL.Services.CompanyService.UpdateAsync(Int32 id, UpdateCompanyRequest request, CancellationToken cancellationToken) in F:\\NOTE-Project\\NOTE.Solutions.BE\\NOTE.Solutions\\NOTE.Solutions.BLL\\Services\\CompanyService.cs:line 353\r\n   at NOTE.Solutions.BLL.Services.CompanyService.UpdateAsync(Int32 id, UpdateCompanyRequest request, CancellationToken cancellationToken) in F:\\NOTE-Project\\NOTE.Solutions.BE\\NOTE.Solutions\\NOTE.Solutions.BLL\\Services\\CompanyService.cs:line 418\r\n   at NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync(Int32 companyId, UpdateCompanyRequest request) in F:\\NOTE-Project\\NOTE.Solutions.BE\\NOTE.Solutions\\NOTE.Solutions.API\\Controllers\\CompaniesController.cs:line 46\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)","Properties":{"Message":"Username 'shrifm2017@gmail.com' is already taken.","SourceContext":"NOTE.Solutions.API.ApplicationConfiguration.GlobalExceptionHandler","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56P:00000013","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:26:40.1141468+03:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6fc5dfd27aa925a929f0c0207d2c7662","SpanId":"632b11f2149a1451","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Companies/2","StatusCode":500,"Elapsed":5324.2613,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56P:00000013","ConnectionId":"0HNGLJRU2U56P","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5324.2613"}]}}
{"Timestamp":"2025-10-28T00:28:12.1955450+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Execution RecurringJobScheduler recovered from the Faulted state after 00:00:23.9175949 and is in the Running state now","SourceContext":"Hangfire.Processing.BackgroundExecution","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Execution RecurringJobScheduler recovered from the Faulted state after 00:00:23.9175949 and is in the Running state now"}]}}
{"Timestamp":"2025-10-28T00:31:32.5360203+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Execution RecurringJobScheduler recovered from the Faulted state after 00:00:37.3095967 and is in the Running state now","SourceContext":"Hangfire.Processing.BackgroundExecution","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Execution RecurringJobScheduler recovered from the Faulted state after 00:00:37.3095967 and is in the Running state now"}]}}
{"Timestamp":"2025-10-28T00:34:59.6009767+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"599d6e9cd4d34414de732b95709d2134","SpanId":"8d8874034ba4edc9","Properties":{"elapsed":"386","parameters":"@__id_0='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[IsDeleted], [t].[Name], [t].[RIN], [t0].[CompanyId], [t0].[ActiveCodeId], [t0].[Id], [t0].[Code], [t1].[Id], [t1].[ApplicationUserId], [t1].[CompanyId], [t1].[IsDeleted], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Email], [t1].[EmailConfirmed], [t1].[IdentifierNumber], [t1].[IsDeleted0], [t1].[IsDisabled], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[Name], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [t1].[ApplicationUserId0], [t1].[Id1], [t1].[CreatedOn], [t1].[ExpiresOn], [t1].[RevokedOn], [t1].[Token], [t3].[Id], [t3].[BuildingNumber], [t3].[CityId], [t3].[Code], [t3].[CompanyId], [t3].[IsDeleted], [t3].[Street], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[CreatedAt], [t3].[CreatedById], [t3].[UpdatedAt], [t3].[UpdatedById], [t3].[Id3], [t3].[ApplicationUserId], [t3].[CreatedAt0], [t3].[CreatedById0], [t3].[IsDeleted0], [t3].[UpdatedAt0], [t3].[UpdatedById0], [t3].[Id00], [t3].[AccessFailedCount], [t3].[ConcurrencyStamp], [t3].[Email], [t3].[EmailConfirmed], [t3].[IdentifierNumber], [t3].[IsDeleted00], [t3].[IsDisabled], [t3].[LockoutEnabled], [t3].[LockoutEnd], [t3].[Name], [t3].[NormalizedEmail], [t3].[NormalizedUserName], [t3].[PasswordHash], [t3].[PhoneNumber], [t3].[PhoneNumberConfirmed], [t3].[SecurityStamp], [t3].[TwoFactorEnabled], [t3].[UserName], [t3].[ApplicationUserId0], [t3].[Id10], [t3].[CreatedOn], [t3].[ExpiresOn], [t3].[RevokedOn], [t3].[Token], [t3].[Id4], [t3].[BranchId0], [t3].[ClientId], [t3].[ClientSecret], [t3].[CreatedAt1], [t3].[CreatedById1], [t3].[IsDeleted1], [t3].[POSSerial], [t3].[UpdatedAt1], [t3].[UpdatedById1], [t3].[Code0], [t3].[GovernorateId], [t3].[Name0], [t3].[Code1], [t3].[CountryId], [t3].[Name1], [t3].[Code2], [t3].[Name2]\r\nFROM (\r\n    SELECT TOP(2) [c].[Id], [c].[IsDeleted], [c].[Name], [c].[RIN]\r\n    FROM [Companies] AS [c]\r\n    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0\r\n) AS [t]\r\nLEFT JOIN (\r\n    SELECT [a].[CompanyId], [a].[ActiveCodeId], [a0].[Id], [a0].[Code]\r\n    FROM [ActiveCodeCompany] AS [a]\r\n    INNER JOIN [ActiveCodes] AS [a0] ON [a].[ActiveCodeId] = [a0].[Id]\r\n) AS [t0] ON [t].[Id] = [t0].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t2].[Id] AS [Id0], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[Email], [t2].[EmailConfirmed], [t2].[IdentifierNumber], [t2].[IsDeleted] AS [IsDeleted0], [t2].[IsDisabled], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[Name], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [r].[ApplicationUserId] AS [ApplicationUserId0], [r].[Id] AS [Id1], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a1].[Id], [a1].[AccessFailedCount], [a1].[ConcurrencyStamp], [a1].[Email], [a1].[EmailConfirmed], [a1].[IdentifierNumber], [a1].[IsDeleted], [a1].[IsDisabled], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[Name], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UserName]\r\n        FROM [AspNetUsers] AS [a1]\r\n        WHERE [a1].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t2] ON [m].[ApplicationUserId] = [t2].[Id]\r\n    LEFT JOIN [RefreshTokens] AS [r] ON [t2].[Id] = [r].[ApplicationUserId]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t1] ON [t].[Id] = [t1].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [b].[Id], [b].[BuildingNumber], [b].[CityId], [b].[Code], [b].[CompanyId], [b].[IsDeleted], [b].[Street], [c0].[Id] AS [Id0], [g].[Id] AS [Id1], [c1].[Id] AS [Id2], [t4].[BranchId], [t4].[EmployeeId], [t4].[CreatedAt], [t4].[CreatedById], [t4].[UpdatedAt], [t4].[UpdatedById], [t4].[Id] AS [Id3], [t4].[ApplicationUserId], [t4].[CreatedAt0], [t4].[CreatedById0], [t4].[IsDeleted] AS [IsDeleted0], [t4].[UpdatedAt0], [t4].[UpdatedById0], [t4].[Id0] AS [Id00], [t4].[AccessFailedCount], [t4].[ConcurrencyStamp], [t4].[Email], [t4].[EmailConfirmed], [t4].[IdentifierNumber], [t4].[IsDeleted0] AS [IsDeleted00], [t4].[IsDisabled], [t4].[LockoutEnabled], [t4].[LockoutEnd], [t4].[Name], [t4].[NormalizedEmail], [t4].[NormalizedUserName], [t4].[PasswordHash], [t4].[PhoneNumber], [t4].[PhoneNumberConfirmed], [t4].[SecurityStamp], [t4].[TwoFactorEnabled], [t4].[UserName], [t4].[ApplicationUserId0], [t4].[Id1] AS [Id10], [t4].[CreatedOn], [t4].[ExpiresOn], [t4].[RevokedOn], [t4].[Token], [t5].[Id] AS [Id4], [t5].[BranchId] AS [BranchId0], [t5].[ClientId], [t5].[ClientSecret], [t5].[CreatedAt] AS [CreatedAt1], [t5].[CreatedById] AS [CreatedById1], [t5].[IsDeleted] AS [IsDeleted1], [t5].[POSSerial], [t5].[UpdatedAt] AS [UpdatedAt1], [t5].[UpdatedById] AS [UpdatedById1], [c0].[Code] AS [Code0], [c0].[GovernorateId], [c0].[Name] AS [Name0], [g].[Code] AS [Code1], [g].[CountryId], [g].[Name] AS [Name1], [c1].[Code] AS [Code2], [c1].[Name] AS [Name2]\r\n    FROM [Branches] AS [b]\r\n    INNER JOIN [Cities] AS [c0] ON [b].[CityId] = [c0].[Id]\r\n    INNER JOIN [Governorates] AS [g] ON [c0].[GovernorateId] = [g].[Id]\r\n    INNER JOIN [Countries] AS [c1] ON [g].[CountryId] = [c1].[Id]\r\n    LEFT JOIN (\r\n        SELECT [b0].[BranchId], [b0].[EmployeeId], [b0].[CreatedAt], [b0].[CreatedById], [b0].[UpdatedAt], [b0].[UpdatedById], [t6].[Id], [t6].[ApplicationUserId], [t6].[CreatedAt] AS [CreatedAt0], [t6].[CreatedById] AS [CreatedById0], [t6].[IsDeleted], [t6].[UpdatedAt] AS [UpdatedAt0], [t6].[UpdatedById] AS [UpdatedById0], [t7].[Id] AS [Id0], [t7].[AccessFailedCount], [t7].[ConcurrencyStamp], [t7].[Email], [t7].[EmailConfirmed], [t7].[IdentifierNumber], [t7].[IsDeleted] AS [IsDeleted0], [t7].[IsDisabled], [t7].[LockoutEnabled], [t7].[LockoutEnd], [t7].[Name], [t7].[NormalizedEmail], [t7].[NormalizedUserName], [t7].[PasswordHash], [t7].[PhoneNumber], [t7].[PhoneNumberConfirmed], [t7].[SecurityStamp], [t7].[TwoFactorEnabled], [t7].[UserName], [r0].[ApplicationUserId] AS [ApplicationUserId0], [r0].[Id] AS [Id1], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\n        FROM [BranchEmployee] AS [b0]\r\n        INNER JOIN (\r\n            SELECT [e].[Id], [e].[ApplicationUserId], [e].[CreatedAt], [e].[CreatedById], [e].[IsDeleted], [e].[UpdatedAt], [e].[UpdatedById]\r\n            FROM [Employees] AS [e]\r\n            WHERE [e].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t6] ON [b0].[EmployeeId] = [t6].[Id]\r\n        INNER JOIN (\r\n            SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[ConcurrencyStamp], [a2].[Email], [a2].[EmailConfirmed], [a2].[IdentifierNumber], [a2].[IsDeleted], [a2].[IsDisabled], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[Name], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName]\r\n            FROM [AspNetUsers] AS [a2]\r\n            WHERE [a2].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t7] ON [t6].[ApplicationUserId] = [t7].[Id]\r\n        LEFT JOIN [RefreshTokens] AS [r0] ON [t7].[Id] = [r0].[ApplicationUserId]\r\n    ) AS [t4] ON [b].[Id] = [t4].[BranchId]\r\n    LEFT JOIN (\r\n        SELECT [p].[Id], [p].[BranchId], [p].[ClientId], [p].[ClientSecret], [p].[CreatedAt], [p].[CreatedById], [p].[IsDeleted], [p].[POSSerial], [p].[UpdatedAt], [p].[UpdatedById]\r\n        FROM [POSs] AS [p]\r\n        WHERE [p].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t5] ON [b].[Id] = [t5].[BranchId]\r\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t3] ON [t].[Id] = [t3].[CompanyId]\r\nORDER BY [t].[Id], [t0].[CompanyId], [t0].[ActiveCodeId], [t0].[Id], [t1].[Id], [t1].[Id0], [t1].[ApplicationUserId0], [t1].[Id1], [t3].[Id], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[Id3], [t3].[Id00], [t3].[ApplicationUserId0], [t3].[Id10]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000001","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:34:59.7172097+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"599d6e9cd4d34414de732b95709d2134","SpanId":"8d8874034ba4edc9","Properties":{"elapsed":"107","parameters":"@__request_RIN_0='951654328' (Size = 9), @__id_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Companies] AS [c]\r\n        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[RIN] = @__request_RIN_0 AND [c].[Id] <> @__id_1) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000001","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:34:59.8226230+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"599d6e9cd4d34414de732b95709d2134","SpanId":"8d8874034ba4edc9","Properties":{"elapsed":"99","parameters":"@__activeCodeId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [ActiveCodes] AS [a]\r\n        WHERE [a].[Id] = @__activeCodeId_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000001","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:34:59.9192470+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"599d6e9cd4d34414de732b95709d2134","SpanId":"8d8874034ba4edc9","Properties":{"elapsed":"89","parameters":"@__branch_CityId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Cities] AS [c]\r\n        WHERE [c].[Id] = @__branch_CityId_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000001","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:35:00.2818071+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"599d6e9cd4d34414de732b95709d2134","SpanId":"8d8874034ba4edc9","Properties":{"elapsed":"249","parameters":"@__normalizedEmail_0='SHRIFM2017@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedEmail] = @__normalizedEmail_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000001","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:35:00.3196851+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"599d6e9cd4d34414de732b95709d2134","SpanId":"8d8874034ba4edc9","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Companies/2","StatusCode":409,"Elapsed":1141.5955,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56Q:00000001","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1141.5955"}]}}
{"Timestamp":"2025-10-28T00:36:38.0608763+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"60870da451bb237a3a6087aecedaabd5","SpanId":"1876643fa7f9da3d","Properties":{"elapsed":"5,419","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[Name], [c].[RIN], [t].[CompanyId], [t].[ActiveCodeId], [t].[Id], [t].[Code], [t0].[Id], [t0].[ApplicationUserId], [t0].[CompanyId], [t0].[IsDeleted], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[IdentifierNumber], [t0].[IsDeleted0], [t0].[IsDisabled], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[Name], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[ApplicationUserId0], [t0].[Id1], [t0].[CreatedOn], [t0].[ExpiresOn], [t0].[RevokedOn], [t0].[Token], [t3].[Id], [t3].[BuildingNumber], [t3].[CityId], [t3].[Code], [t3].[CompanyId], [t3].[IsDeleted], [t3].[Street], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[CreatedAt], [t3].[CreatedById], [t3].[UpdatedAt], [t3].[UpdatedById], [t3].[Id3], [t3].[ApplicationUserId], [t3].[CreatedAt0], [t3].[CreatedById0], [t3].[IsDeleted0], [t3].[UpdatedAt0], [t3].[UpdatedById0], [t3].[Id00], [t3].[AccessFailedCount], [t3].[ConcurrencyStamp], [t3].[Email], [t3].[EmailConfirmed], [t3].[IdentifierNumber], [t3].[IsDeleted00], [t3].[IsDisabled], [t3].[LockoutEnabled], [t3].[LockoutEnd], [t3].[Name], [t3].[NormalizedEmail], [t3].[NormalizedUserName], [t3].[PasswordHash], [t3].[PhoneNumber], [t3].[PhoneNumberConfirmed], [t3].[SecurityStamp], [t3].[TwoFactorEnabled], [t3].[UserName], [t3].[ApplicationUserId0], [t3].[Id10], [t3].[CreatedOn], [t3].[ExpiresOn], [t3].[RevokedOn], [t3].[Token], [t3].[Id4], [t3].[BranchId0], [t3].[ClientId], [t3].[ClientSecret], [t3].[CreatedAt1], [t3].[CreatedById1], [t3].[IsDeleted1], [t3].[POSSerial], [t3].[UpdatedAt1], [t3].[UpdatedById1], [t3].[Code0], [t3].[GovernorateId], [t3].[Name0], [t3].[Code1], [t3].[CountryId], [t3].[Name1], [t3].[Code2], [t3].[Name2]\r\nFROM [Companies] AS [c]\r\nLEFT JOIN (\r\n    SELECT [a].[CompanyId], [a].[ActiveCodeId], [a0].[Id], [a0].[Code]\r\n    FROM [ActiveCodeCompany] AS [a]\r\n    INNER JOIN [ActiveCodes] AS [a0] ON [a].[ActiveCodeId] = [a0].[Id]\r\n) AS [t] ON [c].[Id] = [t].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t1].[Id] AS [Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Email], [t1].[EmailConfirmed], [t1].[IdentifierNumber], [t1].[IsDeleted] AS [IsDeleted0], [t1].[IsDisabled], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[Name], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [r].[ApplicationUserId] AS [ApplicationUserId0], [r].[Id] AS [Id1], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a1].[Id], [a1].[AccessFailedCount], [a1].[ConcurrencyStamp], [a1].[Email], [a1].[EmailConfirmed], [a1].[IdentifierNumber], [a1].[IsDeleted], [a1].[IsDisabled], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[Name], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UserName]\r\n        FROM [AspNetUsers] AS [a1]\r\n        WHERE [a1].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t1] ON [m].[ApplicationUserId] = [t1].[Id]\r\n    LEFT JOIN [RefreshTokens] AS [r] ON [t1].[Id] = [r].[ApplicationUserId]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t0] ON [c].[Id] = [t0].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [b].[Id], [b].[BuildingNumber], [b].[CityId], [b].[Code], [b].[CompanyId], [b].[IsDeleted], [b].[Street], [c0].[Id] AS [Id0], [g].[Id] AS [Id1], [c1].[Id] AS [Id2], [t2].[BranchId], [t2].[EmployeeId], [t2].[CreatedAt], [t2].[CreatedById], [t2].[UpdatedAt], [t2].[UpdatedById], [t2].[Id] AS [Id3], [t2].[ApplicationUserId], [t2].[CreatedAt0], [t2].[CreatedById0], [t2].[IsDeleted] AS [IsDeleted0], [t2].[UpdatedAt0], [t2].[UpdatedById0], [t2].[Id0] AS [Id00], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[Email], [t2].[EmailConfirmed], [t2].[IdentifierNumber], [t2].[IsDeleted0] AS [IsDeleted00], [t2].[IsDisabled], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[Name], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [t2].[ApplicationUserId0], [t2].[Id1] AS [Id10], [t2].[CreatedOn], [t2].[ExpiresOn], [t2].[RevokedOn], [t2].[Token], [t4].[Id] AS [Id4], [t4].[BranchId] AS [BranchId0], [t4].[ClientId], [t4].[ClientSecret], [t4].[CreatedAt] AS [CreatedAt1], [t4].[CreatedById] AS [CreatedById1], [t4].[IsDeleted] AS [IsDeleted1], [t4].[POSSerial], [t4].[UpdatedAt] AS [UpdatedAt1], [t4].[UpdatedById] AS [UpdatedById1], [c0].[Code] AS [Code0], [c0].[GovernorateId], [c0].[Name] AS [Name0], [g].[Code] AS [Code1], [g].[CountryId], [g].[Name] AS [Name1], [c1].[Code] AS [Code2], [c1].[Name] AS [Name2]\r\n    FROM [Branches] AS [b]\r\n    INNER JOIN [Cities] AS [c0] ON [b].[CityId] = [c0].[Id]\r\n    INNER JOIN [Governorates] AS [g] ON [c0].[GovernorateId] = [g].[Id]\r\n    INNER JOIN [Countries] AS [c1] ON [g].[CountryId] = [c1].[Id]\r\n    LEFT JOIN (\r\n        SELECT [b0].[BranchId], [b0].[EmployeeId], [b0].[CreatedAt], [b0].[CreatedById], [b0].[UpdatedAt], [b0].[UpdatedById], [t5].[Id], [t5].[ApplicationUserId], [t5].[CreatedAt] AS [CreatedAt0], [t5].[CreatedById] AS [CreatedById0], [t5].[IsDeleted], [t5].[UpdatedAt] AS [UpdatedAt0], [t5].[UpdatedById] AS [UpdatedById0], [t6].[Id] AS [Id0], [t6].[AccessFailedCount], [t6].[ConcurrencyStamp], [t6].[Email], [t6].[EmailConfirmed], [t6].[IdentifierNumber], [t6].[IsDeleted] AS [IsDeleted0], [t6].[IsDisabled], [t6].[LockoutEnabled], [t6].[LockoutEnd], [t6].[Name], [t6].[NormalizedEmail], [t6].[NormalizedUserName], [t6].[PasswordHash], [t6].[PhoneNumber], [t6].[PhoneNumberConfirmed], [t6].[SecurityStamp], [t6].[TwoFactorEnabled], [t6].[UserName], [r0].[ApplicationUserId] AS [ApplicationUserId0], [r0].[Id] AS [Id1], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\n        FROM [BranchEmployee] AS [b0]\r\n        INNER JOIN (\r\n            SELECT [e].[Id], [e].[ApplicationUserId], [e].[CreatedAt], [e].[CreatedById], [e].[IsDeleted], [e].[UpdatedAt], [e].[UpdatedById]\r\n            FROM [Employees] AS [e]\r\n            WHERE [e].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t5] ON [b0].[EmployeeId] = [t5].[Id]\r\n        INNER JOIN (\r\n            SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[ConcurrencyStamp], [a2].[Email], [a2].[EmailConfirmed], [a2].[IdentifierNumber], [a2].[IsDeleted], [a2].[IsDisabled], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[Name], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName]\r\n            FROM [AspNetUsers] AS [a2]\r\n            WHERE [a2].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t6] ON [t5].[ApplicationUserId] = [t6].[Id]\r\n        LEFT JOIN [RefreshTokens] AS [r0] ON [t6].[Id] = [r0].[ApplicationUserId]\r\n    ) AS [t2] ON [b].[Id] = [t2].[BranchId]\r\n    LEFT JOIN (\r\n        SELECT [p].[Id], [p].[BranchId], [p].[ClientId], [p].[ClientSecret], [p].[CreatedAt], [p].[CreatedById], [p].[IsDeleted], [p].[POSSerial], [p].[UpdatedAt], [p].[UpdatedById]\r\n        FROM [POSs] AS [p]\r\n        WHERE [p].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t4] ON [b].[Id] = [t4].[BranchId]\r\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t3] ON [c].[Id] = [t3].[CompanyId]\r\nWHERE [c].[IsDeleted] = CAST(0 AS bit)\r\nORDER BY [c].[Id], [t].[CompanyId], [t].[ActiveCodeId], [t].[Id], [t0].[Id], [t0].[Id0], [t0].[ApplicationUserId0], [t0].[Id1], [t3].[Id], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[Id3], [t3].[Id00], [t3].[ApplicationUserId0], [t3].[Id10]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7162b714-30b6-4ac9-8e5d-a74144b4c3c1","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.GetAllAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000003","RequestPath":"/api/Companies","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:36:38.0702289+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"60870da451bb237a3a6087aecedaabd5","SpanId":"1876643fa7f9da3d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Companies","StatusCode":200,"Elapsed":5430.5249,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56Q:00000003","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5430.5249"}]}}
{"Timestamp":"2025-10-28T00:37:29.7401873+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"2,375","parameters":"@__id_0='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[IsDeleted], [t].[Name], [t].[RIN], [t0].[CompanyId], [t0].[ActiveCodeId], [t0].[Id], [t0].[Code], [t1].[Id], [t1].[ApplicationUserId], [t1].[CompanyId], [t1].[IsDeleted], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Email], [t1].[EmailConfirmed], [t1].[IdentifierNumber], [t1].[IsDeleted0], [t1].[IsDisabled], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[Name], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [t1].[ApplicationUserId0], [t1].[Id1], [t1].[CreatedOn], [t1].[ExpiresOn], [t1].[RevokedOn], [t1].[Token], [t3].[Id], [t3].[BuildingNumber], [t3].[CityId], [t3].[Code], [t3].[CompanyId], [t3].[IsDeleted], [t3].[Street], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[CreatedAt], [t3].[CreatedById], [t3].[UpdatedAt], [t3].[UpdatedById], [t3].[Id3], [t3].[ApplicationUserId], [t3].[CreatedAt0], [t3].[CreatedById0], [t3].[IsDeleted0], [t3].[UpdatedAt0], [t3].[UpdatedById0], [t3].[Id00], [t3].[AccessFailedCount], [t3].[ConcurrencyStamp], [t3].[Email], [t3].[EmailConfirmed], [t3].[IdentifierNumber], [t3].[IsDeleted00], [t3].[IsDisabled], [t3].[LockoutEnabled], [t3].[LockoutEnd], [t3].[Name], [t3].[NormalizedEmail], [t3].[NormalizedUserName], [t3].[PasswordHash], [t3].[PhoneNumber], [t3].[PhoneNumberConfirmed], [t3].[SecurityStamp], [t3].[TwoFactorEnabled], [t3].[UserName], [t3].[ApplicationUserId0], [t3].[Id10], [t3].[CreatedOn], [t3].[ExpiresOn], [t3].[RevokedOn], [t3].[Token], [t3].[Id4], [t3].[BranchId0], [t3].[ClientId], [t3].[ClientSecret], [t3].[CreatedAt1], [t3].[CreatedById1], [t3].[IsDeleted1], [t3].[POSSerial], [t3].[UpdatedAt1], [t3].[UpdatedById1], [t3].[Code0], [t3].[GovernorateId], [t3].[Name0], [t3].[Code1], [t3].[CountryId], [t3].[Name1], [t3].[Code2], [t3].[Name2]\r\nFROM (\r\n    SELECT TOP(2) [c].[Id], [c].[IsDeleted], [c].[Name], [c].[RIN]\r\n    FROM [Companies] AS [c]\r\n    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0\r\n) AS [t]\r\nLEFT JOIN (\r\n    SELECT [a].[CompanyId], [a].[ActiveCodeId], [a0].[Id], [a0].[Code]\r\n    FROM [ActiveCodeCompany] AS [a]\r\n    INNER JOIN [ActiveCodes] AS [a0] ON [a].[ActiveCodeId] = [a0].[Id]\r\n) AS [t0] ON [t].[Id] = [t0].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t2].[Id] AS [Id0], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[Email], [t2].[EmailConfirmed], [t2].[IdentifierNumber], [t2].[IsDeleted] AS [IsDeleted0], [t2].[IsDisabled], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[Name], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [r].[ApplicationUserId] AS [ApplicationUserId0], [r].[Id] AS [Id1], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a1].[Id], [a1].[AccessFailedCount], [a1].[ConcurrencyStamp], [a1].[Email], [a1].[EmailConfirmed], [a1].[IdentifierNumber], [a1].[IsDeleted], [a1].[IsDisabled], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[Name], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UserName]\r\n        FROM [AspNetUsers] AS [a1]\r\n        WHERE [a1].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t2] ON [m].[ApplicationUserId] = [t2].[Id]\r\n    LEFT JOIN [RefreshTokens] AS [r] ON [t2].[Id] = [r].[ApplicationUserId]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t1] ON [t].[Id] = [t1].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [b].[Id], [b].[BuildingNumber], [b].[CityId], [b].[Code], [b].[CompanyId], [b].[IsDeleted], [b].[Street], [c0].[Id] AS [Id0], [g].[Id] AS [Id1], [c1].[Id] AS [Id2], [t4].[BranchId], [t4].[EmployeeId], [t4].[CreatedAt], [t4].[CreatedById], [t4].[UpdatedAt], [t4].[UpdatedById], [t4].[Id] AS [Id3], [t4].[ApplicationUserId], [t4].[CreatedAt0], [t4].[CreatedById0], [t4].[IsDeleted] AS [IsDeleted0], [t4].[UpdatedAt0], [t4].[UpdatedById0], [t4].[Id0] AS [Id00], [t4].[AccessFailedCount], [t4].[ConcurrencyStamp], [t4].[Email], [t4].[EmailConfirmed], [t4].[IdentifierNumber], [t4].[IsDeleted0] AS [IsDeleted00], [t4].[IsDisabled], [t4].[LockoutEnabled], [t4].[LockoutEnd], [t4].[Name], [t4].[NormalizedEmail], [t4].[NormalizedUserName], [t4].[PasswordHash], [t4].[PhoneNumber], [t4].[PhoneNumberConfirmed], [t4].[SecurityStamp], [t4].[TwoFactorEnabled], [t4].[UserName], [t4].[ApplicationUserId0], [t4].[Id1] AS [Id10], [t4].[CreatedOn], [t4].[ExpiresOn], [t4].[RevokedOn], [t4].[Token], [t5].[Id] AS [Id4], [t5].[BranchId] AS [BranchId0], [t5].[ClientId], [t5].[ClientSecret], [t5].[CreatedAt] AS [CreatedAt1], [t5].[CreatedById] AS [CreatedById1], [t5].[IsDeleted] AS [IsDeleted1], [t5].[POSSerial], [t5].[UpdatedAt] AS [UpdatedAt1], [t5].[UpdatedById] AS [UpdatedById1], [c0].[Code] AS [Code0], [c0].[GovernorateId], [c0].[Name] AS [Name0], [g].[Code] AS [Code1], [g].[CountryId], [g].[Name] AS [Name1], [c1].[Code] AS [Code2], [c1].[Name] AS [Name2]\r\n    FROM [Branches] AS [b]\r\n    INNER JOIN [Cities] AS [c0] ON [b].[CityId] = [c0].[Id]\r\n    INNER JOIN [Governorates] AS [g] ON [c0].[GovernorateId] = [g].[Id]\r\n    INNER JOIN [Countries] AS [c1] ON [g].[CountryId] = [c1].[Id]\r\n    LEFT JOIN (\r\n        SELECT [b0].[BranchId], [b0].[EmployeeId], [b0].[CreatedAt], [b0].[CreatedById], [b0].[UpdatedAt], [b0].[UpdatedById], [t6].[Id], [t6].[ApplicationUserId], [t6].[CreatedAt] AS [CreatedAt0], [t6].[CreatedById] AS [CreatedById0], [t6].[IsDeleted], [t6].[UpdatedAt] AS [UpdatedAt0], [t6].[UpdatedById] AS [UpdatedById0], [t7].[Id] AS [Id0], [t7].[AccessFailedCount], [t7].[ConcurrencyStamp], [t7].[Email], [t7].[EmailConfirmed], [t7].[IdentifierNumber], [t7].[IsDeleted] AS [IsDeleted0], [t7].[IsDisabled], [t7].[LockoutEnabled], [t7].[LockoutEnd], [t7].[Name], [t7].[NormalizedEmail], [t7].[NormalizedUserName], [t7].[PasswordHash], [t7].[PhoneNumber], [t7].[PhoneNumberConfirmed], [t7].[SecurityStamp], [t7].[TwoFactorEnabled], [t7].[UserName], [r0].[ApplicationUserId] AS [ApplicationUserId0], [r0].[Id] AS [Id1], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\n        FROM [BranchEmployee] AS [b0]\r\n        INNER JOIN (\r\n            SELECT [e].[Id], [e].[ApplicationUserId], [e].[CreatedAt], [e].[CreatedById], [e].[IsDeleted], [e].[UpdatedAt], [e].[UpdatedById]\r\n            FROM [Employees] AS [e]\r\n            WHERE [e].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t6] ON [b0].[EmployeeId] = [t6].[Id]\r\n        INNER JOIN (\r\n            SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[ConcurrencyStamp], [a2].[Email], [a2].[EmailConfirmed], [a2].[IdentifierNumber], [a2].[IsDeleted], [a2].[IsDisabled], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[Name], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName]\r\n            FROM [AspNetUsers] AS [a2]\r\n            WHERE [a2].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t7] ON [t6].[ApplicationUserId] = [t7].[Id]\r\n        LEFT JOIN [RefreshTokens] AS [r0] ON [t7].[Id] = [r0].[ApplicationUserId]\r\n    ) AS [t4] ON [b].[Id] = [t4].[BranchId]\r\n    LEFT JOIN (\r\n        SELECT [p].[Id], [p].[BranchId], [p].[ClientId], [p].[ClientSecret], [p].[CreatedAt], [p].[CreatedById], [p].[IsDeleted], [p].[POSSerial], [p].[UpdatedAt], [p].[UpdatedById]\r\n        FROM [POSs] AS [p]\r\n        WHERE [p].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t5] ON [b].[Id] = [t5].[BranchId]\r\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t3] ON [t].[Id] = [t3].[CompanyId]\r\nORDER BY [t].[Id], [t0].[CompanyId], [t0].[ActiveCodeId], [t0].[Id], [t1].[Id], [t1].[Id0], [t1].[ApplicationUserId0], [t1].[Id1], [t3].[Id], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[Id3], [t3].[Id00], [t3].[ApplicationUserId0], [t3].[Id10]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:30.2191473+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"458","parameters":"@__request_RIN_0='951654328' (Size = 9), @__id_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Companies] AS [c]\r\n        WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[RIN] = @__request_RIN_0 AND [c].[Id] <> @__id_1) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:30.3382669+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"112","parameters":"@__activeCodeId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [ActiveCodes] AS [a]\r\n        WHERE [a].[Id] = @__activeCodeId_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:30.8222609+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"463","parameters":"@__branch_CityId_0='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Cities] AS [c]\r\n        WHERE [c].[Id] = @__branch_CityId_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:31.3133758+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"181","parameters":"@__normalizedEmail_0='GGGG@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedEmail] = @__normalizedEmail_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:31.6753043+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"278","parameters":"@__normalizedUserName_0='GGGG@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:31.7023197+03:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:32.1069090+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"402","parameters":"@p0='0', @p1='20d2fc26-835f-42d3-bb52-6f8808ba22da' (Size = 4000), @p2='gggg@gmail.com' (Size = 256), @p3='False', @p4='string' (Nullable = false) (Size = 4000), @p5='False', @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='string' (Nullable = false) (Size = 4000), @p10='GGGG@GMAIL.COM' (Size = 256), @p11='GGGG@GMAIL.COM' (Size = 256), @p12='AQAAAAIAAYagAAAAEJ3699pO+uCXqCbdwJzzBOXNQi3mGDBaSrr1V1i33ryOwGMDhSxSwTKovS1vnqGtog==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='L4KWBHF2F3JTOHELJVLRDIY67SSK53RR' (Size = 4000), @p16='False', @p17='gggg@gmail.com' (Size = 256), @p20='1', @p18='string' (Nullable = false) (Size = 4000), @p19='string' (Nullable = false) (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IdentifierNumber], [IsDeleted], [IsDisabled], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);\r\nUPDATE [Branches] SET [BuildingNumber] = @p18, [Street] = @p19\r\nOUTPUT 1\r\nWHERE [Id] = @p20;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:32.2761057+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"152","parameters":"@__managerDtoId_0='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t0].[Id], [t0].[ApplicationUserId], [t0].[CompanyId], [t0].[IsDeleted], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[IdentifierNumber], [t0].[IsDeleted0], [t0].[IsDisabled], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[Name], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t].[Id] AS [Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted] AS [IsDeleted0], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t] ON [m].[ApplicationUserId] = [t].[Id]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[Id] = @__managerDtoId_0\r\n) AS [t0]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t0].[Id0] = [r].[ApplicationUserId]\r\nORDER BY [t0].[Id], [t0].[Id0], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:32.9758275+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"677","parameters":"@__normalizedEmail_0='GGGG@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedEmail] = @__normalizedEmail_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:33.1907586+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"111","parameters":"@__normalizedUserName_0='GGGG@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[IdentifierNumber], [t].[IsDeleted], [t].[IsDisabled], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[Name], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[ApplicationUserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IdentifierNumber], [a].[IsDeleted], [a].[IsDisabled], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\n    FROM [AspNetUsers] AS [a]\r\n    WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshTokens] AS [r] ON [t].[Id] = [r].[ApplicationUserId]\r\nORDER BY [t].[Id], [r].[ApplicationUserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:33.2015178+03:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:33.3558072+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"152","parameters":"@p1='6', @p2='047ea5fe-7cbc-4f0b-b93d-8bc1e7f1e2ba' (Size = 4000), @p0='True', @p21='7', @p3='0', @p4='3d376cd5-b1df-4a7e-884b-f7ba6209e451' (Size = 4000), @p22='20d2fc26-835f-42d3-bb52-6f8808ba22da' (Size = 4000), @p5='gggg@gmail.com' (Size = 256), @p6='False', @p7='string' (Nullable = false) (Size = 4000), @p8='False', @p9='False', @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='string' (Nullable = false) (Size = 4000), @p13='GGGG@GMAIL.COM' (Size = 256), @p14='GGGG@GMAIL.COM' (Size = 256), @p15='AQAAAAIAAYagAAAAEGrzpBBC/aqt8UHdEkB9WRJlgUgRV6eTwErcOhkFGtgEPcXgSQvqEE8DAtj8+gDdqw==' (Size = 4000), @p16='01014133874' (Size = 4000), @p17='False', @p18='L4KWBHF2F3JTOHELJVLRDIY67SSK53RR' (Size = 4000), @p19='False', @p20='gggg@gmail.com' (Size = 256), @p24='2', @p23='True', @p25='7', @p26='2', @p27='False'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [IsDeleted] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1 AND [ConcurrencyStamp] = @p2;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [IdentifierNumber] = @p7, [IsDeleted] = @p8, [IsDisabled] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [Name] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20\r\nOUTPUT 1\r\nWHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;\r\nUPDATE [Managers] SET [IsDeleted] = @p23\r\nOUTPUT 1\r\nWHERE [Id] = @p24;\r\nINSERT INTO [Managers] ([ApplicationUserId], [CompanyId], [IsDeleted])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p25, @p26, @p27);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:33.3840162+03:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:33.6399311+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"elapsed":"250","parameters":"@p3='2', @p0='False', @p1='string' (Nullable = false) (Size = 200), @p2='951654328' (Nullable = false) (Size = 9)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Companies] SET [IsDeleted] = @p0, [Name] = @p1, [RIN] = @p2\r\nOUTPUT 1\r\nWHERE [Id] = @p3;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a2257969-215f-4790-8bd9-969de6f27962","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.UpdateAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000005","RequestPath":"/api/Companies/2","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:33.8234116+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0bb4015ed2a129597a3e8c5506e46a21","SpanId":"555d2852286b6d8b","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Companies/2","StatusCode":204,"Elapsed":6463.7975,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56Q:00000005","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6463.7975"}]}}
{"Timestamp":"2025-10-28T00:37:38.5759045+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64ca6e77cc66a297f9dcc2df7587da20","SpanId":"fe1ee80f6076a082","Properties":{"elapsed":"576","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[Name], [c].[RIN], [t].[CompanyId], [t].[ActiveCodeId], [t].[Id], [t].[Code], [t0].[Id], [t0].[ApplicationUserId], [t0].[CompanyId], [t0].[IsDeleted], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[IdentifierNumber], [t0].[IsDeleted0], [t0].[IsDisabled], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[Name], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[ApplicationUserId0], [t0].[Id1], [t0].[CreatedOn], [t0].[ExpiresOn], [t0].[RevokedOn], [t0].[Token], [t3].[Id], [t3].[BuildingNumber], [t3].[CityId], [t3].[Code], [t3].[CompanyId], [t3].[IsDeleted], [t3].[Street], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[CreatedAt], [t3].[CreatedById], [t3].[UpdatedAt], [t3].[UpdatedById], [t3].[Id3], [t3].[ApplicationUserId], [t3].[CreatedAt0], [t3].[CreatedById0], [t3].[IsDeleted0], [t3].[UpdatedAt0], [t3].[UpdatedById0], [t3].[Id00], [t3].[AccessFailedCount], [t3].[ConcurrencyStamp], [t3].[Email], [t3].[EmailConfirmed], [t3].[IdentifierNumber], [t3].[IsDeleted00], [t3].[IsDisabled], [t3].[LockoutEnabled], [t3].[LockoutEnd], [t3].[Name], [t3].[NormalizedEmail], [t3].[NormalizedUserName], [t3].[PasswordHash], [t3].[PhoneNumber], [t3].[PhoneNumberConfirmed], [t3].[SecurityStamp], [t3].[TwoFactorEnabled], [t3].[UserName], [t3].[ApplicationUserId0], [t3].[Id10], [t3].[CreatedOn], [t3].[ExpiresOn], [t3].[RevokedOn], [t3].[Token], [t3].[Id4], [t3].[BranchId0], [t3].[ClientId], [t3].[ClientSecret], [t3].[CreatedAt1], [t3].[CreatedById1], [t3].[IsDeleted1], [t3].[POSSerial], [t3].[UpdatedAt1], [t3].[UpdatedById1], [t3].[Code0], [t3].[GovernorateId], [t3].[Name0], [t3].[Code1], [t3].[CountryId], [t3].[Name1], [t3].[Code2], [t3].[Name2]\r\nFROM [Companies] AS [c]\r\nLEFT JOIN (\r\n    SELECT [a].[CompanyId], [a].[ActiveCodeId], [a0].[Id], [a0].[Code]\r\n    FROM [ActiveCodeCompany] AS [a]\r\n    INNER JOIN [ActiveCodes] AS [a0] ON [a].[ActiveCodeId] = [a0].[Id]\r\n) AS [t] ON [c].[Id] = [t].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [m].[Id], [m].[ApplicationUserId], [m].[CompanyId], [m].[IsDeleted], [t1].[Id] AS [Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Email], [t1].[EmailConfirmed], [t1].[IdentifierNumber], [t1].[IsDeleted] AS [IsDeleted0], [t1].[IsDisabled], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[Name], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [r].[ApplicationUserId] AS [ApplicationUserId0], [r].[Id] AS [Id1], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\n    FROM [Managers] AS [m]\r\n    INNER JOIN (\r\n        SELECT [a1].[Id], [a1].[AccessFailedCount], [a1].[ConcurrencyStamp], [a1].[Email], [a1].[EmailConfirmed], [a1].[IdentifierNumber], [a1].[IsDeleted], [a1].[IsDisabled], [a1].[LockoutEnabled], [a1].[LockoutEnd], [a1].[Name], [a1].[NormalizedEmail], [a1].[NormalizedUserName], [a1].[PasswordHash], [a1].[PhoneNumber], [a1].[PhoneNumberConfirmed], [a1].[SecurityStamp], [a1].[TwoFactorEnabled], [a1].[UserName]\r\n        FROM [AspNetUsers] AS [a1]\r\n        WHERE [a1].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t1] ON [m].[ApplicationUserId] = [t1].[Id]\r\n    LEFT JOIN [RefreshTokens] AS [r] ON [t1].[Id] = [r].[ApplicationUserId]\r\n    WHERE [m].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t0] ON [c].[Id] = [t0].[CompanyId]\r\nLEFT JOIN (\r\n    SELECT [b].[Id], [b].[BuildingNumber], [b].[CityId], [b].[Code], [b].[CompanyId], [b].[IsDeleted], [b].[Street], [c0].[Id] AS [Id0], [g].[Id] AS [Id1], [c1].[Id] AS [Id2], [t2].[BranchId], [t2].[EmployeeId], [t2].[CreatedAt], [t2].[CreatedById], [t2].[UpdatedAt], [t2].[UpdatedById], [t2].[Id] AS [Id3], [t2].[ApplicationUserId], [t2].[CreatedAt0], [t2].[CreatedById0], [t2].[IsDeleted] AS [IsDeleted0], [t2].[UpdatedAt0], [t2].[UpdatedById0], [t2].[Id0] AS [Id00], [t2].[AccessFailedCount], [t2].[ConcurrencyStamp], [t2].[Email], [t2].[EmailConfirmed], [t2].[IdentifierNumber], [t2].[IsDeleted0] AS [IsDeleted00], [t2].[IsDisabled], [t2].[LockoutEnabled], [t2].[LockoutEnd], [t2].[Name], [t2].[NormalizedEmail], [t2].[NormalizedUserName], [t2].[PasswordHash], [t2].[PhoneNumber], [t2].[PhoneNumberConfirmed], [t2].[SecurityStamp], [t2].[TwoFactorEnabled], [t2].[UserName], [t2].[ApplicationUserId0], [t2].[Id1] AS [Id10], [t2].[CreatedOn], [t2].[ExpiresOn], [t2].[RevokedOn], [t2].[Token], [t4].[Id] AS [Id4], [t4].[BranchId] AS [BranchId0], [t4].[ClientId], [t4].[ClientSecret], [t4].[CreatedAt] AS [CreatedAt1], [t4].[CreatedById] AS [CreatedById1], [t4].[IsDeleted] AS [IsDeleted1], [t4].[POSSerial], [t4].[UpdatedAt] AS [UpdatedAt1], [t4].[UpdatedById] AS [UpdatedById1], [c0].[Code] AS [Code0], [c0].[GovernorateId], [c0].[Name] AS [Name0], [g].[Code] AS [Code1], [g].[CountryId], [g].[Name] AS [Name1], [c1].[Code] AS [Code2], [c1].[Name] AS [Name2]\r\n    FROM [Branches] AS [b]\r\n    INNER JOIN [Cities] AS [c0] ON [b].[CityId] = [c0].[Id]\r\n    INNER JOIN [Governorates] AS [g] ON [c0].[GovernorateId] = [g].[Id]\r\n    INNER JOIN [Countries] AS [c1] ON [g].[CountryId] = [c1].[Id]\r\n    LEFT JOIN (\r\n        SELECT [b0].[BranchId], [b0].[EmployeeId], [b0].[CreatedAt], [b0].[CreatedById], [b0].[UpdatedAt], [b0].[UpdatedById], [t5].[Id], [t5].[ApplicationUserId], [t5].[CreatedAt] AS [CreatedAt0], [t5].[CreatedById] AS [CreatedById0], [t5].[IsDeleted], [t5].[UpdatedAt] AS [UpdatedAt0], [t5].[UpdatedById] AS [UpdatedById0], [t6].[Id] AS [Id0], [t6].[AccessFailedCount], [t6].[ConcurrencyStamp], [t6].[Email], [t6].[EmailConfirmed], [t6].[IdentifierNumber], [t6].[IsDeleted] AS [IsDeleted0], [t6].[IsDisabled], [t6].[LockoutEnabled], [t6].[LockoutEnd], [t6].[Name], [t6].[NormalizedEmail], [t6].[NormalizedUserName], [t6].[PasswordHash], [t6].[PhoneNumber], [t6].[PhoneNumberConfirmed], [t6].[SecurityStamp], [t6].[TwoFactorEnabled], [t6].[UserName], [r0].[ApplicationUserId] AS [ApplicationUserId0], [r0].[Id] AS [Id1], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\n        FROM [BranchEmployee] AS [b0]\r\n        INNER JOIN (\r\n            SELECT [e].[Id], [e].[ApplicationUserId], [e].[CreatedAt], [e].[CreatedById], [e].[IsDeleted], [e].[UpdatedAt], [e].[UpdatedById]\r\n            FROM [Employees] AS [e]\r\n            WHERE [e].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t5] ON [b0].[EmployeeId] = [t5].[Id]\r\n        INNER JOIN (\r\n            SELECT [a2].[Id], [a2].[AccessFailedCount], [a2].[ConcurrencyStamp], [a2].[Email], [a2].[EmailConfirmed], [a2].[IdentifierNumber], [a2].[IsDeleted], [a2].[IsDisabled], [a2].[LockoutEnabled], [a2].[LockoutEnd], [a2].[Name], [a2].[NormalizedEmail], [a2].[NormalizedUserName], [a2].[PasswordHash], [a2].[PhoneNumber], [a2].[PhoneNumberConfirmed], [a2].[SecurityStamp], [a2].[TwoFactorEnabled], [a2].[UserName]\r\n            FROM [AspNetUsers] AS [a2]\r\n            WHERE [a2].[IsDeleted] = CAST(0 AS bit)\r\n        ) AS [t6] ON [t5].[ApplicationUserId] = [t6].[Id]\r\n        LEFT JOIN [RefreshTokens] AS [r0] ON [t6].[Id] = [r0].[ApplicationUserId]\r\n    ) AS [t2] ON [b].[Id] = [t2].[BranchId]\r\n    LEFT JOIN (\r\n        SELECT [p].[Id], [p].[BranchId], [p].[ClientId], [p].[ClientSecret], [p].[CreatedAt], [p].[CreatedById], [p].[IsDeleted], [p].[POSSerial], [p].[UpdatedAt], [p].[UpdatedById]\r\n        FROM [POSs] AS [p]\r\n        WHERE [p].[IsDeleted] = CAST(0 AS bit)\r\n    ) AS [t4] ON [b].[Id] = [t4].[BranchId]\r\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\r\n) AS [t3] ON [c].[Id] = [t3].[CompanyId]\r\nWHERE [c].[IsDeleted] = CAST(0 AS bit)\r\nORDER BY [c].[Id], [t].[CompanyId], [t].[ActiveCodeId], [t].[Id], [t0].[Id], [t0].[Id0], [t0].[ApplicationUserId0], [t0].[Id1], [t3].[Id], [t3].[Id0], [t3].[Id1], [t3].[Id2], [t3].[BranchId], [t3].[EmployeeId], [t3].[Id3], [t3].[Id00], [t3].[ApplicationUserId0], [t3].[Id10]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7162b714-30b6-4ac9-8e5d-a74144b4c3c1","ActionName":"NOTE.Solutions.API.Controllers.CompaniesController.GetAllAsync (NOTE.Solutions.API)","RequestId":"0HNGLJRU2U56Q:00000007","RequestPath":"/api/Companies","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"}}
{"Timestamp":"2025-10-28T00:37:38.5890020+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"64ca6e77cc66a297f9dcc2df7587da20","SpanId":"fe1ee80f6076a082","Properties":{"RequestMethod":"GET","RequestPath":"/api/Companies","StatusCode":200,"Elapsed":590.2404,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNGLJRU2U56Q:00000007","ConnectionId":"0HNGLJRU2U56Q","Application":"NOTE.Solutions.API"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"590.2404"}]}}
{"Timestamp":"2025-10-28T00:39:12.7616136+03:00","Level":"Error","MessageTemplate":"{State:l}","Exception":"Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.\r\n ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at Hangfire.SqlServer.SqlServerJobQueue.<>c.<FetchJob>b__14_0(SqlServerStorage storage, DbConnection connection, String[] queues) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerJobQueue.cs:line 179\r\n   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerStorage.cs:line 292\r\n   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerJobQueue.cs:line 169\r\n   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerJobQueue.cs:line 143\r\n   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerJobQueue.cs:line 67\r\n   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerConnection.cs:line 81\r\n   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\Worker.cs:line 107\r\n   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\BackgroundProcessDispatcherBuilder.cs:line 82\r\n   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Processing\\BackgroundExecution.cs:line 118\r\nClientConnectionId:75207dfe-a217-4d0b-ad40-90789c198cdd\r\nError Number:-2,State:0,Class:11","Properties":{"State":"Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04","SourceContext":"Hangfire.Processing.BackgroundExecution","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04"}]}}
{"Timestamp":"2025-10-28T00:39:16.6454432+03:00","Level":"Error","MessageTemplate":"{State:l}","Exception":"System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\r\n   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerStorage.cs:line 406\r\n   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerConnection.cs:line 800\r\n   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\DelayedJobScheduler.cs:line 411\r\n   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\DelayedJobScheduler.cs:line 167\r\n   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\DelayedJobScheduler.cs:line 148\r\n   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\BackgroundProcessDispatcherBuilder.cs:line 82\r\n   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Processing\\BackgroundExecution.cs:line 118","Properties":{"State":"Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09","SourceContext":"Hangfire.Processing.BackgroundExecution","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09"}]}}
{"Timestamp":"2025-10-28T00:39:18.2514749+03:00","Level":"Warning","MessageTemplate":"{State:l}","Exception":"Microsoft.Data.SqlClient.SqlException (0x80131904): A transport-level error has occurred when receiving results from the server. (provider: Session Provider, error: 19 - Physical connection is not usable)\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()\r\n   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965\r\n   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656\r\n   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527\r\n   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerConnection.cs:line 553\r\n   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerStorage.cs:line 292\r\n   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerConnection.cs:line 548\r\n   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\ServerHeartbeatProcess.cs:line 50\r\nClientConnectionId:3d7c47fb-c1eb-4c2d-9e82-8a023e34cedc\r\nError Number:-1,State:0,Class:20","Properties":{"State":"Server dahy:22216:20341d41 encountered an exception while sending heartbeat","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 encountered an exception while sending heartbeat"}]}}
{"Timestamp":"2025-10-28T00:39:59.7896354+03:00","Level":"Error","MessageTemplate":"{State:l}","Exception":"Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)\r\n ---> System.ComponentModel.Win32Exception (53): The network path was not found.\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, TimeoutTimer timeout, SqlConnectionString connectionOptions, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)\r\n   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\r\n   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerStorage.cs:line 406\r\n   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\\projects\\hangfire-525\\src\\Hangfire.SqlServer\\SqlServerConnection.cs:line 800\r\n   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\RecurringJobScheduler.cs:line 423\r\n   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\RecurringJobScheduler.cs:line 203\r\n   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\RecurringJobScheduler.cs:line 176\r\n   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Server\\BackgroundProcessDispatcherBuilder.cs:line 82\r\n   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Processing\\BackgroundExecution.cs:line 118\r\nClientConnectionId:00000000-0000-0000-0000-000000000000\r\nError Number:53,State:0,Class:20","Properties":{"State":"Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09","SourceContext":"Hangfire.Processing.BackgroundExecution","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09"}]}}
{"Timestamp":"2025-10-28T00:40:03.5834091+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 is now able to continue sending heartbeats","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 is now able to continue sending heartbeats"}]}}
{"Timestamp":"2025-10-28T00:40:20.2119200+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Execution DelayedJobScheduler recovered from the Failed state after 00:01:03.5443068 and is in the Running state now","SourceContext":"Hangfire.Processing.BackgroundExecution","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Execution DelayedJobScheduler recovered from the Failed state after 00:01:03.5443068 and is in the Running state now"}]}}
{"Timestamp":"2025-10-28T00:40:24.8941762+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Execution RecurringJobScheduler recovered from the Failed state after 00:00:25.0902363 and is in the Running state now","SourceContext":"Hangfire.Processing.BackgroundExecution","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Execution RecurringJobScheduler recovered from the Failed state after 00:00:25.0902363 and is in the Running state now"}]}}
{"Timestamp":"2025-10-28T00:40:33.1393935+03:00","Level":"Warning","MessageTemplate":"{State:l}","Properties":{"State":"Stopping the server due to DomainUnload or ProcessExit event...","SourceContext":"Hangfire.Server.BackgroundProcessingServer","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Stopping the server due to DomainUnload or ProcessExit event..."}]}}
{"Timestamp":"2025-10-28T00:40:33.1419058+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 caught stopping signal..."}]}}
{"Timestamp":"2025-10-28T00:40:33.1558315+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 caught stopped signal..."}]}}
{"Timestamp":"2025-10-28T00:40:33.1697126+03:00","Level":"Warning","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 caught shutdown signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 caught shutdown signal..."}]}}
{"Timestamp":"2025-10-28T00:40:33.1727925+03:00","Level":"Warning","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods."}]}}
{"Timestamp":"2025-10-28T00:40:33.8789316+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 successfully reported itself as stopped in 702.3768 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 successfully reported itself as stopped in 702.3768 ms"}]}}
{"Timestamp":"2025-10-28T00:40:33.8813449+03:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server dahy:22216:20341d41 has been stopped in total 732.4946 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","Application":"NOTE.Solutions.API"},"Renderings":{"State":[{"Format":"l","Rendering":"Server dahy:22216:20341d41 has been stopped in total 732.4946 ms"}]}}
